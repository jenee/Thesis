
(function($,p){var i,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,c,l,v,b=$.bbq=$.bbq||{},q,u,j,e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,h,C={};function E(F){return typeof F==="string"}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;if(I!==i){K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);J=K[3]||"";if(G===2&&E(I)){L=I.replace(H?w:x,"")}else{N=l(K[2]);I=E(I)?l[H?D:A](I):I;L=G===2?I:G===1?$.extend({},I,N):$.extend({},N,I);L=a(L);if(H){L=L.replace(h,r)}}O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J}else{O=M(F!==i?F:p[g][k])}return O}a[A]=B(f,0,o);a[D]=c=B(f,1,n);c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")};c.noEscape(",/");$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var K=Q.split("="),P=r(K[0]),J,O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])){R[N]=R[N].replace(/\]$/,"");R=R.shift().split("[").concat(R);N=R.length-1}else{N=0}if(K.length===2){J=r(K[1]);if(F){J=J&&!isNaN(J)?+J:J==="undefined"?i:G[J]!==i?G[J]:J}if(N){for(;M<=N;M++){P=R[M]===""?O.length:R[M];O=O[P]=M<N?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J}}else{if($.isArray(H[P])){H[P].push(J)}else{if(H[P]!==i){H[P]=[H[P],J]}else{H[P]=J}}}}else{if(P){H[P]=F?i:""}}});return H};function z(H,F,G){if(F===i||typeof F==="boolean"){G=F;F=a[H?D:A]()}else{F=E(F)?F.replace(H?w:x,""):F}return l(F,G)}l[A]=B(z,0);l[D]=v=B(z,1);$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t});j=$[y];function s(I,G,H,F){if(!E(H)&&typeof H!=="object"){F=H;H=G;G=i}return this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}$.fn[A]=B(s,A);$.fn[D]=B(s,D);b.pushState=q=function(I,F){if(E(I)&&/^#/.test(I)&&F===i){F=2}var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")};b.getState=u=function(F,G){return F===i||typeof F==="boolean"?v(F):v(G)[F]};b.removeState=function(F){var G={};if(F!==i){G=u();$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})}q(G,2)};e[d]=$.extend(e[d],{add:function(F){var H;function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||typeof K==="boolean"?l(I,K):l(I,L)[K]};H.apply(this,arguments)}if($.isFunction(F)){H=F;return G}else{H=F.handler;F.handler=G}}})})(jQuery,this);(function($,i,b){var j,k=$.event.special,c="location",d="hashchange",l="href",f=$.browser,g=document.documentMode,h=f.msie&&(g===b||g<8),e="on"+d in i&&!h;function a(m){m=m||i[c][l];return m.replace(/^[^#]*#?(.*)$/,"$1")}$[d+"Delay"]=100;k[d]=$.extend(k[d],{setup:function(){if(e){return false}$(j.start)},teardown:function(){if(e){return false}$(j.stop)}});j=(function(){var m={},r,n,o,q;function p(){o=q=function(s){return s};if(h){n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;q=function(){return a(n.document[c][l])};o=function(u,s){if(u!==s){var t=n.document;t.open().close();t[c].hash="#"+u}};o(a())}}m.start=function(){if(r){return}var t=a();o||p();(function s(){var v=a(),u=q(t);if(v!==t){o(t=v,u);$(i).trigger(d)}else{if(u!==t){i[c][l]=i[c][l].replace(/#.*/,"")+"#"+u}}r=setTimeout(s,$[d+"Delay"])})()};m.stop=function(){if(!n){r&&clearTimeout(r);r=0}};return m})()})(jQuery,this);(function(){var e=jQuery,f="jQuery.pause",d=1,b=e.fn.animate,a={};function c(){return new Date().getTime()}e.fn.animate=function(k,h,j,i){var g=e.speed(h,j,i);g.complete=g.old;return this.each(function(){if(!this[f]){this[f]=d++}var l=e.extend({},g);b.apply(e(this),[k,e.extend({},l)]);a[this[f]]={run:true,prop:k,opt:l,start:c(),done:0}})};e.fn.pause=function(){return this.each(function(){if(!this[f]){this[f]=d++}var g=a[this[f]];if(g&&g.run){g.done+=c()-g.start;if(g.done>g.opt.duration){delete a[this[f]]}else{e(this).stop();g.run=false}}})};e.fn.resume=function(){return this.each(function(){if(!this[f]){this[f]=d++}var g=a[this[f]];if(g&&!g.run){g.opt.duration-=g.done;g.done=0;g.run=true;g.start=c();b.apply(e(this),[g.prop,e.extend({},g.opt)])}})}})();(function(f,h,i){function k(a,c){var b=(a[0]||0)-(c[0]||0);return b>0||!b&&a.length>0&&k(a.slice(1),c.slice(1))}function l(a){if(typeof a!=g)return a;var c=[],b="";for(var d in a){b=typeof a[d]==g?l(a[d]):[d,m?encodeURI(a[d]):a[d]].join("=");c.push(b)}return c.join("&")}function n(a){var c=[];for(var b in a)a[b]&&c.push([b,'="',a[b],'"'].join(""));return c.join(" ")}function o(a){var c=[];for(var b in a)c.push(['<param name="',b,'" value="',l(a[b]),'" />'].join(""));return c.join("")}var g="object",m=true;try{var j=i.description||function(){return(new i("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}()}catch(p){j="Unavailable"}var e=j.match(/\d+/g)||[0];f[h]={available:e[0]>0,activeX:i&&!i.name,version:{original:j,array:e,string:e.join("."),major:parseInt(e[0],10)||0,minor:parseInt(e[1],10)||0,release:parseInt(e[2],10)||0},hasVersion:function(a){a=/string|number/.test(typeof a)?a.toString().split("."):/object/.test(typeof a)?[a.major,a.minor]:a||[0,0];return k(e,a)},encodeParams:true,expressInstall:"expressInstall.swf",expressInstallIsActive:false,create:function(a){if(!a.swf||this.expressInstallIsActive||!this.available&&!a.hasVersionFail)return false;if(!this.hasVersion(a.hasVersion||1)){this.expressInstallIsActive=true;if(typeof a.hasVersionFail=="function")if(!a.hasVersionFail.apply(a))return false;a={swf:a.expressInstall||this.expressInstall,height:137,width:214,flashvars:{MMredirectURL:location.href,MMplayerType:this.activeX?"ActiveX":"PlugIn",MMdoctitle:document.title.slice(0,47)+" - Flash Player Installation"}}}attrs={data:a.swf,type:"application/x-shockwave-flash",id:a.id||"flash_"+Math.floor(Math.random()*999999999),width:a.width||320,height:a.height||180,style:a.style||""};m=typeof a.useEncode!=="undefined"?a.useEncode:this.encodeParams;a.movie=a.swf;a.wmode=a.wmode||"opaque";delete a.fallback;delete a.hasVersion;delete a.hasVersionFail;delete a.height;delete a.id;delete a.swf;delete a.useEncode;delete a.width;var c=document.createElement("div");c.innerHTML=["<object ",n(attrs),">",o(a),"</object>"].join("");return c.firstChild}};f.fn[h]=function(a){var c=this.find(g).andSelf().filter(g);/string|object/.test(typeof a)&&this.each(function(){var b=f(this),d;a=typeof a==g?a:{swf:a};a.fallback=this;if(d=f[h].create(a)){b.children().remove();b.html(d)}});typeof a=="function"&&c.each(function(){var b=this;b.jsInteractionTimeoutMs=b.jsInteractionTimeoutMs||0;if(b.jsInteractionTimeoutMs<660)b.clientWidth||b.clientHeight?a.call(b):setTimeout(function(){f(b)[h](a)},b.jsInteractionTimeoutMs+66)});return c}})(jQuery,"flash",navigator.plugins["Shockwave Flash"]||window.ActiveXObject);(function(jQuery){jQuery.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":"\"",",":"<",".":">","/":"?","\\":"|"}};function keyHandler(handleObj){if(typeof handleObj.data!=="string"){return;}
var origHandler=handleObj.handler,keys=handleObj.data.toLowerCase().split(" ");handleObj.handler=function(event){if(this!==event.target&&(/textarea|select/i.test(event.target.nodeName)||event.target.type==="text")){return;}
var special=event.type!=="keypress"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),key,modif="",possible={};if(event.altKey&&special!=="alt"){modif+="alt+";}
if(event.ctrlKey&&special!=="ctrl"){modif+="ctrl+";}
if(event.metaKey&&!event.ctrlKey&&special!=="meta"){modif+="meta+";}
if(event.shiftKey&&special!=="shift"){modif+="shift+";}
if(special){possible[modif+special]=true;}else{possible[modif+character]=true;possible[modif+jQuery.hotkeys.shiftNums[character]]=true;if(modif==="shift+"){possible[jQuery.hotkeys.shiftNums[character]]=true;}}
for(var i=0,l=keys.length;i<l;i++){if(possible[keys[i]]){return origHandler.apply(this,arguments);}}};}
jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler};});})(jQuery);(function(b,c){var a;b.rails=a={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]",selectChangeSelector:"select[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",CSRFProtection:function(e){var d=b('meta[name="csrf-token"]').attr("content");if(d){e.setRequestHeader("X-CSRF-Token",d);}},fire:function(g,d,f){var e=b.Event(d);g.trigger(e,f);return e.result!==false;},confirm:function(d){return confirm(d);},ajax:function(d){return b.ajax(d);},handleRemote:function(g){var j,e,i,h=g.data("cross-domain")||null,d=g.data("type")||(b.ajaxSettings&&b.ajaxSettings.dataType);if(a.fire(g,"ajax:before")){if(g.is("form")){j=g.attr("method");e=g.attr("action");i=g.serializeArray();var f=g.data("ujs:submit-button");if(f){i.push(f);g.data("ujs:submit-button",null);}}else{if(g.is("select")){j=g.data("method");e=g.data("url");i=g.serialize();if(g.data("params")){i=i+"&"+g.data("params");}}else{j=g.data("method");e=g.attr("href");i=g.data("params")||null;}}options={type:j||"GET",data:i,dataType:d,crossDomain:h,beforeSend:function(l,k){if(k.dataType===c){l.setRequestHeader("accept","*/*;q=0.5, "+k.accepts.script);}return a.fire(g,"ajax:beforeSend",[l,k]);},success:function(l,k,m){g.trigger("ajax:success",[l,k,m]);},complete:function(l,k){g.trigger("ajax:complete",[l,k]);},error:function(m,k,l){g.trigger("ajax:error",[m,k,l]);}};if(e){b.extend(options,{url:e});}a.ajax(options);}},handleMethod:function(h){var e=h.attr("href"),j=h.data("method"),f=b("meta[name=csrf-token]").attr("content"),i=b("meta[name=csrf-param]").attr("content"),g=b('<form method="post" action="'+e+'"></form>'),d='<input name="_method" value="'+j+'" type="hidden" />';if(i!==c&&f!==c){d+='<input name="'+i+'" value="'+f+'" type="hidden" />';}g.hide().append(d).appendTo("body");g.submit();},disableFormElements:function(d){d.find(a.disableSelector).each(function(){var e=b(this),f=e.is("button")?"html":"val";e.data("ujs:enable-with",e[f]());e[f](e.data("disable-with"));e.attr("disabled","disabled");});},enableFormElements:function(d){d.find(a.enableSelector).each(function(){var e=b(this),f=e.is("button")?"html":"val";if(e.data("ujs:enable-with")){e[f](e.data("ujs:enable-with"));}e.removeAttr("disabled");});},allowAction:function(d){var e=d.data("confirm"),f=false,g;if(!e){return true;}if(a.fire(d,"confirm")){f=a.confirm(e);g=a.fire(d,"confirm:complete",[f]);}return f&&g;},blankInputs:function(i,f,h){var e=b(),g,d=f||"input,textarea";i.find(d).each(function(){g=b(this);if(h?g.val():!g.val()){e=e.add(g);}});return e.length?e:false;},nonBlankInputs:function(e,d){return a.blankInputs(e,d,true);},stopEverything:function(d){b(d.target).trigger("ujs:everythingStopped");d.stopImmediatePropagation();return false;},callFormSubmitBindings:function(e){var d=e.data("events"),f=true;if(d!==c&&d.submit!==c){b.each(d.submit,function(g,h){if(typeof h.handler==="function"){return f=h.handler(h.data);}});}return f;}};if("ajaxPrefilter"in b){b.ajaxPrefilter(function(d,f,e){if(!d.crossDomain){a.CSRFProtection(e);}});}else{b(document).ajaxSend(function(f,g,d){if(!d.crossDomain){a.CSRFProtection(g);}});}b(a.linkClickSelector).live("click.rails",function(f){var d=b(this);if(!a.allowAction(d)){return a.stopEverything(f);}if(d.data("remote")!==c){a.handleRemote(d);return false;}else{if(d.data("method")){a.handleMethod(d);return false;}}});b(a.selectChangeSelector).live("change.rails",function(f){var d=b(this);if(!a.allowAction(d)){return a.stopEverything(f);}a.handleRemote(d);return false;});b(a.formSubmitSelector).live("submit.rails",function(i){var g=b(this),h=g.data("remote")!==c,f=a.blankInputs(g,a.requiredInputSelector),d=a.nonBlankInputs(g,a.fileInputSelector);if(!a.allowAction(g)){return a.stopEverything(i);}if(f&&a.fire(g,"ajax:aborted:required",[f])){return a.stopEverything(i);}if(h){if(d){return a.fire(g,"ajax:aborted:file",[d]);}if(!b.support.submitBubbles&&a.callFormSubmitBindings(g)===false){return a.stopEverything(i);}a.handleRemote(g);return false;}else{setTimeout(function(){a.disableFormElements(g);},13);}});b(a.formInputClickSelector).live("click.rails",function(f){var e=b(this);if(!a.allowAction(e)){return a.stopEverything(f);}var d=e.attr("name"),g=d?{name:d,value:e.val()}:null;e.closest("form").data("ujs:submit-button",g);});b(a.formSubmitSelector).live("ajax:beforeSend.rails",function(d){if(this==d.target){a.disableFormElements(b(this));}});b(a.formSubmitSelector).live("ajax:complete.rails",function(d){if(this==d.target){a.enableFormElements(b(this));}});})(jQuery);;(function(d){var k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof j=='object'){b=j;j=0}if(typeof b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete g[c]}});t(b.onAfter);function t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function p(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);(function($)
{$.fn.swipe=function(options)
{if(!this)return false;var defaults={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var LEFT="left";var RIGHT="right";var UP="up";var DOWN="down";var NONE="none";var HORIZONTAL="horizontal";var VERTICAL="vertical";var AUTO="auto";var PHASE_START="start";var PHASE_MOVE="move";var PHASE_END="end";var PHASE_CANCEL="cancel";var phase="start";if(options.allowPageScroll==undefined&&(options.swipe!=undefined||options.swipeStatus!=undefined))
options.allowPageScroll=NONE;if(options)
$.extend(defaults,options);return this.each(function()
{var $this=$(this);var triggerElementID=null;var fingerCount=0;var start={x:0,y:0};var end={x:0,y:0};var delta={x:0,y:0};function touchStart(event)
{phase=PHASE_START;fingerCount=event.touches.length;distance=0;direction=null;if(fingerCount==defaults.fingers)
{start.x=end.x=event.touches[0].pageX;start.y=end.y=event.touches[0].pageY;if(defaults.swipeStatus)
triggerHandler(event,phase);}
else
{touchCancel(event);}}
function touchMove(event)
{if(phase==PHASE_END||phase==PHASE_CANCEL)
return;end.x=event.touches[0].pageX;end.y=event.touches[0].pageY;direction=caluculateDirection();fingerCount=event.touches.length;phase=PHASE_MOVE
validateDefaultEvent(event,direction);if(fingerCount==defaults.fingers)
{distance=caluculateDistance();if(defaults.swipeStatus)
triggerHandler(event,phase,direction,distance);if(!defaults.triggerOnTouchEnd)
{if(distance>=defaults.threshold)
{phase=PHASE_END;triggerHandler(event,phase);touchCancel(event);}}}
else
{phase=PHASE_CANCEL;triggerHandler(event,phase);touchCancel(event);}}
function touchEnd(event)
{event.preventDefault();distance=caluculateDistance();direction=caluculateDirection();if(defaults.triggerOnTouchEnd)
{phase=PHASE_END;if(fingerCount==defaults.fingers&&end.x!=0)
{if(distance>=defaults.threshold)
{triggerHandler(event,phase);touchCancel(event);}
else
{phase=PHASE_CANCEL;triggerHandler(event,phase);touchCancel(event);}}
else
{phase=PHASE_CANCEL;triggerHandler(event,phase);touchCancel(event);}}
else if(phase==PHASE_MOVE)
{phase=PHASE_CANCEL;triggerHandler(event,phase);touchCancel(event);}}
function touchCancel(event)
{fingerCount=0;start.x=0;start.y=0;end.x=0;end.y=0;delta.x=0;delta.y=0;}
function triggerHandler(event,phase)
{if(defaults.swipeStatus)
defaults.swipeStatus.call($this,event,phase,direction||null,distance||0);if(phase==PHASE_CANCEL)
{if(defaults.click&&fingerCount==1&&(isNaN(distance)||distance==0))
defaults.click.call($this,event,event.target);}
if(phase==PHASE_END)
{if(defaults.swipe)
{defaults.swipe.call($this,event,direction,distance);}
switch(direction)
{case LEFT:if(defaults.swipeLeft)
defaults.swipeLeft.call($this,event,direction,distance);break;case RIGHT:if(defaults.swipeRight)
defaults.swipeRight.call($this,event,direction,distance);break;case UP:if(defaults.swipeUp)
defaults.swipeUp.call($this,event,direction,distance);break;case DOWN:if(defaults.swipeDown)
defaults.swipeDown.call($this,event,direction,distance);break;}}}
function validateDefaultEvent(event,direction)
{if(defaults.allowPageScroll==NONE)
{event.preventDefault();}
else
{var auto=defaults.allowPageScroll==AUTO;switch(direction)
{case LEFT:if((defaults.swipeLeft&&auto)||(!auto&&defaults.allowPageScroll!=HORIZONTAL))
event.preventDefault();break;case RIGHT:if((defaults.swipeRight&&auto)||(!auto&&defaults.allowPageScroll!=HORIZONTAL))
event.preventDefault();break;case UP:if((defaults.swipeUp&&auto)||(!auto&&defaults.allowPageScroll!=VERTICAL))
event.preventDefault();break;case DOWN:if((defaults.swipeDown&&auto)||(!auto&&defaults.allowPageScroll!=VERTICAL))
event.preventDefault();break;}}}
function caluculateDistance()
{return Math.round(Math.sqrt(Math.pow(end.x-start.x,2)+Math.pow(end.y-start.y,2)));}
function caluculateAngle()
{var X=start.x-end.x;var Y=end.y-start.y;var r=Math.atan2(Y,X);var angle=Math.round(r*180/Math.PI);if(angle<0)
angle=360-Math.abs(angle);return angle;}
function caluculateDirection()
{var angle=caluculateAngle();if((angle<=45)&&(angle>=0))
return LEFT;else if((angle<=360)&&(angle>=315))
return LEFT;else if((angle>=135)&&(angle<=225))
return RIGHT;else if((angle>45)&&(angle<135))
return DOWN;else
return UP;}
try
{this.addEventListener("touchstart",touchStart,false);this.addEventListener("touchmove",touchMove,false);this.addEventListener("touchend",touchEnd,false);this.addEventListener("touchcancel",touchCancel,false);}
catch(e)
{}});};})(jQuery);(function(a,b,c){var d=function(){function b(b,c){c=c||document.documentElement;var d=c.style,e;if(typeof d[b]=="string")return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var f=0,g=a.length;f<g;f++){e=a[f]+b;if(typeof d[e]=="string")return e}}var a=["Moz","Webkit","Khtml","O","Ms"];return b}(),e=d("transform"),f=document.documentElement,g=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),h=[{name:"csstransforms",getResult:function(){return!!e}},{name:"csstransforms3d",getResult:function(){var a=!!d("perspective");if(a){var b=document.createElement("style"),c=document.createElement("div"),e="@media ("+g.join("transform-3d),(")+"modernizr)";b.textContent=e+"{#modernizr{height:3px}}",(document.head||document.getElementsByTagName("head")[0]).appendChild(b),c.id="modernizr",f.appendChild(c),a=c.offsetHeight===3,b.parentNode.removeChild(b),c.parentNode.removeChild(c)}return!!a}},{name:"csstransitions",getResult:function(){return!!d("transitionProperty")}}],i,j=h.length;if(a.Modernizr)for(i=0;i<j;i++){var k=h[i];Modernizr.hasOwnProperty(k.name)||Modernizr.addTest(k.name,k.getResult)}else a.Modernizr=function(){var a={_version:"1.6ish: miniModernizr for Isotope"},b=[],c,d,e;for(i=0;i<j;i++)c=h[i],d=c.getResult(),a[c.name]=d,e=(d?"":"no-")+c.name,b.push(e);f.className+=" "+b.join(" ");return a}();if(Modernizr.csstransforms){var l=Modernizr.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},m=function(a,c,d){var f=b.data(a,"isoTransform")||{},g={},h,i={},j;g[c]=d,b.extend(f,g);for(h in f)j=f[h],i[h]=l[h](j);var k=i.translate||"",m=i.scale||"",n=k+m;b.data(a,"isoTransform",f),a.style[e]=n};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){m(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){m(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var n=b.event,o;n.special.smartresize={setup:function(){b(this).bind("resize",n.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",n.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",o&&clearTimeout(o),o=setTimeout(function(){jQuery.event.handle.apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c){this.element=b(c),this._create(a),this._init()};var p=["overflow","position","width","height"];b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:Modernizr.csstransforms&&!b.browser.opera?{opacity:0,scale:.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!b.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:b.browser.opera?"jquery":"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(c){this.options=b.extend(!0,{},b.Isotope.settings,c),this.styleQueue=[],this.elemCount=0;var d=this.element[0].style;this.originalStyle={};for(var e=0,f=p.length;e<f;e++){var g=p[e];this.originalStyle[g]=d[g]||null}this.element.css({overflow:"hidden",position:"relative"}),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems();var i=b(document.createElement("div")).prependTo(this.element);this.offset=i.position(),i.remove();var j=this;setTimeout(function(){j.element.addClass(j.options.containerClass)},0),this.options.resizable&&b(a).bind("smartresize.isotope",function(){j.resize()})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0);return c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);for(var c in a)this._updateOption(c)}},_updateOption:function(a){var b="_update"+a.charAt(0).toUpperCase()+a.slice(1);this[b]&&this[b]()},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(a){case"css":case"none":this.isUsingJQueryAnimation=!1;break;case"jquery":this.isUsingJQueryAnimation=!0;break;default:this.isUsingJQueryAnimation=!Modernizr.csstransitions}this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation,this.getPositionStyles=this.usingTransforms?this._translate:this._positionAbs},_filter:function(a){var b,c=this.options.filter===""?"*":this.options.filter;if(!c)b=a;else{var d=this.options.hiddenClass,e="."+d,f=a.not(e),g=a.filter(e),h=g;b=a.filter(c);if(c!=="*"){h=g.filter(c);var i=f.not(c).toggleClass(d);i.addClass(d),this.styleQueue.push({$el:i,style:this.options.hiddenStyle})}this.styleQueue.push({$el:h,style:this.options.visibleStyle}),h.removeClass(d)}return b},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g),c&&d.elemCount++})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order"));return(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b+=this.offset.left,c+=this.offset.top;var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,c){var d=this.options.layoutMode;this["_"+d+"Layout"](a);if(this.options.resizesContainer){var e=this["_"+d+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:e})}var f=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",g=this.options.animationOptions;b.each(this.styleQueue,function(a,b){b.$el[f](b.style,g)}),this.styleQueue=[],c&&c.call(a),this.isLaidOut=!0},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var b=c._filter(a);c.$filteredAtoms=c.$filteredAtoms.add(b)}),this._sort(),this.reLayout(b)},appended:function(a,b){var c=this;this.addItems(a,function(a){c.$filteredAtoms=c.$filteredAtoms.add(a),c.layout(a,b)})},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a){this.$allAtoms=this.$allAtoms.not(a),this.$filteredAtoms=this.$filteredAtoms.not(a),a.remove()},_shuffleArray:function(a){var b,c,d=a.length;if(d)while(--d)c=~~(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a},shuffle:function(a){this.options.sortBy="shuffle",this.$allAtoms=this._shuffleArray(this.$allAtoms),this.$filteredAtoms=this._filter(this.$allAtoms),this.reLayout(a)},destroy:function(){var c=this.usingTransforms;this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position=null,this.style.top=null,this.style.left=null,this.style.opacity=null,c&&(this.style[e]=null)});var d=this.element[0].style;for(var f=0,g=p.length;f<g;f++){var h=p[f];d[h]=this.originalStyle[h]}this.element.unbind(".isotope").removeClass(this.options.containerClass).removeData("isotope"),b(a).unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",d=a?"height":"width",e=a?"Height":"Width",f=a?"rows":"cols",g=this.element[d](),h,i;i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+e](!0)||g,h=Math.floor(g/i),h=Math.max(h,1),this[b][f]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];this._getSegments(a);return this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}x=this.masonry.columnWidth*d,y=c,this._pushPosition(a,x,y);var g=c+a.outerHeight(!0),h=this.masonry.cols+1-f;for(e=0;e<h;e++)this.masonry.colYs[d+e]=g},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=~~(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}x=c,y=this.masonryHorizontal.rowHeight*d,this._pushPosition(a,x,y);var g=c+a.outerWidth(!0),h=this.masonryHorizontal.rows+1-f;for(e=0;e<h;e++)this.masonryHorizontal.rowXs[d+e]=g},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=~~(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){var b=this.find("img"),d=b.length,e=this;b.length||a.call(this),b.bind("load",function(){--d<=0&&a.call(e)}).each(function(){if(this.complete||this.complete===c){var a=this.src;this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",this.src=a}});return this};var q=function(a){this.console&&console.error(a)};b.fn.isotope=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"isotope");if(!d)q("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");else{if(!b.isFunction(d[a])||a.charAt(0)==="_"){q("no such method '"+a+"' for isotope instance");return}d[a].apply(d,c)}})}else this.each(function(){var c=b.data(this,"isotope");c?(c.option(a),c._init()):b.data(this,"isotope",new b.Isotope(a,this))});return this}})(window,jQuery);(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;this.attr("novalidate","novalidate");b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){a=this.find("input, button");a.filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&a.filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,g=c.validator.staticRules(d);switch(a){case"add":c.extend(g,c.validator.normalizeRule(b));f[d.name]=g;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case"remove":if(!b){delete f[d.name];return g}var h={};c.each(b.split(/\s/),function(j,i){h[i]=g[i];delete g[i]});return h}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=c.data(this[0].form,"validator"),g="on"+e.type.replace(/^validate/,"");f.settings[g]&&f.settings[g].call(f,this[0],e)}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,f){c.each(f.split(/\s/),function(g,h){b[h]=e})});var d=this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",a).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.validationTargetFor(this.clean(a));this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.validationTargetFor(this.clean(a));var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var g=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(g=="dependency-mismatch")d=true;else{d=false;if(g=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!g){this.formatAndAdd(a,f);return false}}}catch(h){this.settings.debug&&window.console&&console.log("exception occured when checking element "+
a.id+", check the '"+f.method+"' method",h);throw h;}}if(!d){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata){var d=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata();return d&&d.messages&&d.messages[b]}},customMessage:function(a,b){var d=this.settings.messages[a];return d&&(d.constructor==String?d:d[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass(this.settings.validClass).addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case"select":return c("option:selected",b).length;case"input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:c.extend(this.classRuleSettings,a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(var d in c.validator.methods){var e;if(e=d==="required"&&typeof c.fn.prop==="function"?a.prop(d):a.attr(d))b[d]=e;else if(a[0].getAttribute("type")===d)b[d]=true}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case"string":f=!!c(e.depends,b.form).length;break;case"function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case"select":return(a=c(b).val())&&a.length>0;case"input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(h){f.settings.messages[b.name].remote=e.originalMessage;var j=h===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};h=h||f.defaultMessage(b,"remote");i[b.name]=e.message=c.isFunction(h)?h(a):h;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 -]+/.test(a))return false;var d=0,e=0,f=false;a=a.replace(/\D/g,"");for(var g=a.length-1;g>=0;g--){e=a.charAt(g);e=parseInt(e,10);if(f)if((e*=2)>9)e-=9;d+=e;f=!f}return d%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);(function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};$.toJSON=typeof JSON==='object'&&JSON.stringify?JSON.stringify:function(o){if(o===null){return'null';}
var type=typeof o;if(type==='undefined'){return undefined;}
if(type==='number'||type==='boolean'){return''+o;}
if(type==='string'){return $.quoteString(o);}
if(type==='object'){if(typeof o.toJSON==='function'){return $.toJSON(o.toJSON());}
if(o.constructor===Date){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();if(month<10){month='0'+month;}
if(day<10){day='0'+day;}
if(hours<10){hours='0'+hours;}
if(minutes<10){minutes='0'+minutes;}
if(seconds<10){seconds='0'+seconds;}
if(milli<100){milli='0'+milli;}
if(milli<10){milli='0'+milli;}
return'"'+year+'-'+month+'-'+day+'T'+
hours+':'+minutes+':'+seconds+'.'+milli+'Z"';}
if(o.constructor===Array){var ret=[];for(var i=0;i<o.length;i++){ret.push($.toJSON(o[i])||'null');}
return'['+ret.join(',')+']';}
var name,val,pairs=[];for(var k in o){type=typeof k;if(type==='number'){name='"'+k+'"';}else if(type==='string'){name=$.quoteString(k);}else{continue;}
type=typeof o[k];if(type==='function'||type==='undefined'){continue;}
val=$.toJSON(o[k]);pairs.push(name+':'+val);}
return'{'+pairs.join(',')+'}';}};$.evalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(src){return eval('('+src+')');};$.secureEvalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered)){return eval('('+src+')');}else{throw new SyntaxError('Error parsing JSON, source is not valid.');}};$.quoteString=function(string){if(string.match(escapeable)){return'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==='string'){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}
return'"'+string+'"';};})(jQuery);(function($){if(!$||!($.toJSON||Object.toJSON||window.JSON)){throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");}
var
_storage={},_storage_service={jStorage:"{}"},_storage_elm=null,_storage_size=0,json_encode=$.toJSON||Object.toJSON||(window.JSON&&(JSON.encode||JSON.stringify)),json_decode=$.evalJSON||(window.JSON&&(JSON.decode||JSON.parse))||function(str){return String(str).evalJSON();},_backend=false,_ttl_timeout,_XMLService={isXML:function(elm){var documentElement=(elm?elm.ownerDocument||elm:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false;},encode:function(xmlNode){if(!this.isXML(xmlNode)){return false;}
try{return new XMLSerializer().serializeToString(xmlNode);}catch(E1){try{return xmlNode.xml;}catch(E2){}}
return false;},decode:function(xmlString){var dom_parser=("DOMParser"in window&&(new DOMParser()).parseFromString)||(window.ActiveXObject&&function(_xmlString){var xml_doc=new ActiveXObject('Microsoft.XMLDOM');xml_doc.async='false';xml_doc.loadXML(_xmlString);return xml_doc;}),resultXML;if(!dom_parser){return false;}
resultXML=dom_parser.call("DOMParser"in window&&(new DOMParser())||window,xmlString,'text/xml');return this.isXML(resultXML)?resultXML:false;}};function _init(){var localStorageReallyWorks=false;if("localStorage"in window){try{window.localStorage.setItem('_tmptest','tmpval');localStorageReallyWorks=true;window.localStorage.removeItem('_tmptest');}catch(BogusQuotaExceededErrorOnIos5){}}
if(localStorageReallyWorks){try{if(window.localStorage){_storage_service=window.localStorage;_backend="localStorage";}}catch(E3){}}
else if("globalStorage"in window){try{if(window.globalStorage){_storage_service=window.globalStorage[window.location.hostname];_backend="globalStorage";}}catch(E4){}}
else{_storage_elm=document.createElement('link');if(_storage_elm.addBehavior){_storage_elm.style.behavior='url(#default#userData)';document.getElementsByTagName('head')[0].appendChild(_storage_elm);_storage_elm.load("jStorage");var data="{}";try{data=_storage_elm.getAttribute("jStorage");}catch(E5){}
_storage_service.jStorage=data;_backend="userDataBehavior";}else{_storage_elm=null;return;}}
_load_storage();_handleTTL();}
function _load_storage(){if(_storage_service.jStorage){try{_storage=json_decode(String(_storage_service.jStorage));}catch(E6){_storage_service.jStorage="{}";}}else{_storage_service.jStorage="{}";}
_storage_size=_storage_service.jStorage?String(_storage_service.jStorage).length:0;}
function _save(){try{_storage_service.jStorage=json_encode(_storage);if(_storage_elm){_storage_elm.setAttribute("jStorage",_storage_service.jStorage);_storage_elm.save("jStorage");}
_storage_size=_storage_service.jStorage?String(_storage_service.jStorage).length:0;}catch(E7){}}
function _checkKey(key){if(!key||(typeof key!="string"&&typeof key!="number")){throw new TypeError('Key name must be string or numeric');}
if(key=="__jstorage_meta"){throw new TypeError('Reserved key name');}
return true;}
function _handleTTL(){var curtime,i,TTL,nextExpire=Infinity,changed=false;clearTimeout(_ttl_timeout);if(!_storage.__jstorage_meta||typeof _storage.__jstorage_meta.TTL!="object"){return;}
curtime=+new Date();TTL=_storage.__jstorage_meta.TTL;for(i in TTL){if(TTL.hasOwnProperty(i)){if(TTL[i]<=curtime){delete TTL[i];delete _storage[i];changed=true;}else if(TTL[i]<nextExpire){nextExpire=TTL[i];}}}
if(nextExpire!=Infinity){_ttl_timeout=setTimeout(_handleTTL,nextExpire-curtime);}
if(changed){_save();}}
$.jStorage={version:"0.1.6.1",set:function(key,value){_checkKey(key);if(_XMLService.isXML(value)){value={_is_xml:true,xml:_XMLService.encode(value)};}else if(typeof value=="function"){value=null;}else if(value&&typeof value=="object"){value=json_decode(json_encode(value));}
_storage[key]=value;_save();return value;},get:function(key,def){_checkKey(key);if(key in _storage){if(_storage[key]&&typeof _storage[key]=="object"&&_storage[key]._is_xml&&_storage[key]._is_xml){return _XMLService.decode(_storage[key].xml);}else{return _storage[key];}}
return typeof(def)=='undefined'?null:def;},deleteKey:function(key){_checkKey(key);if(key in _storage){delete _storage[key];if(_storage.__jstorage_meta&&typeof _storage.__jstorage_meta.TTL=="object"&&key in _storage.__jstorage_meta.TTL){delete _storage.__jstorage_meta.TTL[key];}
_save();return true;}
return false;},setTTL:function(key,ttl){var curtime=+new Date();_checkKey(key);ttl=Number(ttl)||0;if(key in _storage){if(!_storage.__jstorage_meta){_storage.__jstorage_meta={};}
if(!_storage.__jstorage_meta.TTL){_storage.__jstorage_meta.TTL={};}
if(ttl>0){_storage.__jstorage_meta.TTL[key]=curtime+ttl;}else{delete _storage.__jstorage_meta.TTL[key];}
_save();_handleTTL();return true;}
return false;},flush:function(){_storage={};_save();return true;},storageObj:function(){function F(){}
F.prototype=_storage;return new F();},index:function(){var index=[],i;for(i in _storage){if(_storage.hasOwnProperty(i)&&i!="__jstorage_meta"){index.push(i);}}
return index;},storageSize:function(){return _storage_size;},currentBackend:function(){return _backend;},storageAvailable:function(){return!!_backend;},reInit:function(){var new_storage_elm,data;if(_storage_elm&&_storage_elm.addBehavior){new_storage_elm=document.createElement('link');_storage_elm.parentNode.replaceChild(new_storage_elm,_storage_elm);_storage_elm=new_storage_elm;_storage_elm.style.behavior='url(#default#userData)';document.getElementsByTagName('head')[0].appendChild(_storage_elm);_storage_elm.load("jStorage");data="{}";try{data=_storage_elm.getAttribute("jStorage");}catch(E5){}
_storage_service.jStorage=data;_backend="userDataBehavior";}
_load_storage();}};_init();})(window.jQuery||window.$);;(function($){var f=false,n=null;$.tinysort={id:'TinySort',version:'1.1.1',copyright:'Copyright (c) 2008-2011 Ron Valstar',uri:'http://tinysort.sjeiti.com/',licenced:{MIT:'http://www.opensource.org/licenses/mit-license.php',GPL:'http://www.gnu.org/licenses/gpl.html'},defaults:{order:'asc',attr:n,data:n,useVal:f,place:'start',returns:f,cases:f,forceStrings:f,sortFunction:n}};$.fn.extend({tinysort:function(_find,_settings){if(_find&&typeof(_find)!='string'){_settings=_find;_find=n;}
var oSettings=$.extend({},$.tinysort.defaults,_settings),p=parseFloat,sParent,oElements={},bFind=!(!_find||_find==''),bAttr=!(oSettings.attr===n||oSettings.attr==""),bData=oSettings.data!==n,bFilter=bFind&&_find[0]==':',$Filter=bFilter?this.filter(_find):this,fn=oSettings.sortFunction;if(!fn)fn=oSettings.order=='rand'?function(){return Math.random()<.5?1:-1;}:function(a,b){var x=!oSettings.cases?toLowerCase(a.s):a.s,y=!oSettings.cases?toLowerCase(b.s):b.s;if(!oSettings.forceStrings&&isNum(a.s)&&isNum(b.s)){x=p(a.s);y=p(b.s);}
return(oSettings.order=='asc'?1:-1)*(x<y?-1:(x>y?1:0));};this.each(function(i,el){var $This=$(el),mElm=bFind?(bFilter?$Filter.filter(this):$This.find(_find)):$This,sSort=bData?mElm.data(oSettings.data):(bAttr?mElm.attr(oSettings.attr):(oSettings.useVal?mElm.val():mElm.text())),mParent=$This.parent();if(!oElements[mParent])oElements[mParent]={s:[],n:[]};if(mElm.length>0)oElements[mParent].s.push({s:sSort,e:$This,n:i});else oElements[mParent].n.push({e:$This,n:i});});for(sParent in oElements)oElements[sParent].s.sort(fn);var aNewOrder=[];for(sParent in oElements){var oParent=oElements[sParent],aOrg=[],iLow=$(this).length;switch(oSettings.place){case'first':$.each(oParent.s,function(i,obj){iLow=Math.min(iLow,obj.n)});break;case'org':$.each(oParent.s,function(i,obj){aOrg.push(obj.n)});break;case'end':iLow=oParent.n.length;break;default:iLow=0;}
var aCnt=[0,0];for(var i=0;i<$(this).length;i++){var bSList=i>=iLow&&i<iLow+oParent.s.length;if(contains(aOrg,i))bSList=true;var mEl=(bSList?oParent.s:oParent.n)[aCnt[bSList?0:1]].e;mEl.parent().append(mEl);if(bSList||!oSettings.returns)aNewOrder.push(mEl.get(0));aCnt[bSList?0:1]++;}}
return this.pushStack(aNewOrder);}});function toLowerCase(s){return s&&s.toLowerCase?s.toLowerCase():s;}
function isNum(n){var x=/^\s*?[\+-]?(\d*\.?\d*?)\s*?$/.exec(n);return x&&x.length>0?x[1]:f;}
function contains(a,n){var bInside=f;$.each(a,function(i,m){if(!bInside)bInside=m==n;});return bInside;}
$.fn.TinySort=$.fn.Tinysort=$.fn.tsort=$.fn.tinysort;})(jQuery);(function(){if(!this.JSON)this.JSON={};(function(){var cx,escapable,f,gap,indent,meta,quote,rep,str;f=function(n){if(n<10){return"0"+n;}else{return n;}};quote=function(string){escapable.lastIndex=0;if(escapable.test(string)){return"\""+string.replace(escapable,function(a){var c;c=meta[a];if(typeof c==="string"){return c;}else{return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);}})+"\"";}else{return"\""+string+"\"";}};str=function(key,holder){var gap,i,k,length,mind,partial,v,value;i=void 0;k=void 0;v=void 0;length=void 0;mind=gap;partial=void 0;value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}
if(typeof rep==="function")value=rep.call(holder,key,value);switch(typeof value){case"string":return quote(value);case"number":if(isFinite(value)){return String(value);}else{return"null";}
case"boolean":case"null":return String(value);case"object":if(!value)return"null";gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;i=0;while(i<length){partial[i]=str(i,value)||"null";i+=1;}
v=(partial.length===0?"[]":(gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]"));gap=mind;return v;}
if(rep&&typeof rep==="object"){length=rep.length;i=0;while(i<length){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v);}
i+=1;}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v);}}}
v=(partial.length===0?"{}":(gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}"));gap=mind;return v;}};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){if(isFinite(this.valueOf())){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z";}else{return null;}};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;gap=void 0;indent=void 0;meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"};rep=void 0;if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;i=void 0;gap="";indent="";if(typeof space==="number"){i=0;while(i<space){indent+=" ";i+=1;}}else{if(typeof space==="string")indent=space;}
rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify");}
return str("",{"":value});};}
if(typeof JSON.parse!=="function"){return JSON.parse=function(text,reviver){var j,walk;walk=function(holder,key){var k,v,value;k=void 0;v=void 0;value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);};j=void 0;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return(typeof reviver==="function"?walk({"":j},""):j);}
throw new SyntaxError("JSON.parse");};}})();(function($){var dOptions;dOptions={expires:365,domain:"",secure:false,path:"/"};$.cookie=function(cookieName){return $.getCookie(cookieName);};$.getCookie=function(cookieName){var cookie,cookies,i,value;value=null;if(document.cookie&&document.cookie!==""){cookies=document.cookie.split(";");i=0;while(i<cookies.length){cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,cookieName.length+1)===(cookieName+"=")){value=decodeURIComponent(cookie.substring(cookieName.length+1));break;}
i++;}}
try{return JSON.parse(value);}catch(e){return value;}};$.subCookie=function(cookie,key){return $.getSubCookie(cookie,key);};$.getSubCookie=function(cookie,key){cookie=$.getCookie(cookie);if(!cookie||typeof cookie!=="object")return null;return cookie[key];};$.setCookie=function(cookieName,cookieValue,options){var date,domain,expires,path,secure;options=(typeof options!=="undefined"?$.extend(dOptions,options):dOptions);path="; path="+options.path;domain=(options.domain?"; domain="+options.domain:"");secure=(options.secure?"; secure":"");if(cookieValue&&(typeof cookieValue==="function"||typeof cookieValue==="object")){cookieValue=JSON.stringify(cookieValue);}
cookieValue=encodeURIComponent(cookieValue);date=void 0;if(typeof options.expires==="number"){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000));}else{date=options.expires;}
expires=(options.expires===""?"":"; expires="+date.toUTCString());return document.cookie=[cookieName,"=",cookieValue,expires,path,domain,secure].join("");};$.setSubCookie=function(cookie,key,value,options){var cookieObject,existingCookie;options=(typeof options!=="undefined"?$.extend(dOptions,options):dOptions);existingCookie=$.getCookie(cookie);cookieObject=(existingCookie&&typeof existingCookie==="object"?existingCookie:{});cookieObject[key]=value;return $.setCookie(cookie,cookieObject,options);};$.removeSubCookie=function(cookie,key){var cookieObject;cookieObject=$.getCookie(cookie);if(cookieObject&&typeof cookieObject==="object"&&typeof cookieObject[key]!=="undefined"){delete cookieObject[key];return $.setCookie(cookie,cookieObject);}};$.removeCookie=function(cookie,options){options=(typeof options==="undefined"?{}:options);if($.getCookie(cookie)){options.expires=-1;return $.setCookie(cookie,"",options);}};return $.clearCookie=function(cookie){return $.setCookie(cookie,"");};})(jQuery);}).call(this);(function(){var p=this,C=p._,m={},i=Array.prototype,n=Object.prototype,f=i.slice,D=i.unshift,E=n.toString,l=n.hasOwnProperty,s=i.forEach,t=i.map,u=i.reduce,v=i.reduceRight,w=i.filter,x=i.every,y=i.some,o=i.indexOf,z=i.lastIndexOf;n=Array.isArray;var F=Object.keys,q=Function.prototype.bind,b=function(a){return new j(a)};typeof module!=="undefined"&&module.exports?(module.exports=b,b._=b):p._=b;b.VERSION="1.1.7";var h=b.each=b.forEach=function(a,c,b){if(a!=null)if(s&&a.forEach===s)a.forEach(c,b);else if(a.length===+a.length)for(var e=0,k=a.length;e<k;e++){if(e in a&&c.call(b,a[e],e,a)===m)break}else for(e in a)if(l.call(a,e)&&c.call(b,a[e],e,a)===m)break};b.map=function(a,c,b){var e=[];if(a==null)return e;if(t&&a.map===t)return a.map(c,b);h(a,function(a,g,G){e[e.length]=c.call(b,a,g,G)});return e};b.reduce=b.foldl=b.inject=function(a,c,d,e){var k=d!==void 0;a==null&&(a=[]);if(u&&a.reduce===u)return e&&(c=b.bind(c,e)),k?a.reduce(c,d):a.reduce(c);h(a,function(a,b,f){k?d=c.call(e,d,a,b,f):(d=a,k=!0)});if(!k)throw new TypeError("Reduce of empty array with no initial value");return d};b.reduceRight=b.foldr=function(a,c,d,e){a==null&&(a=[]);if(v&&a.reduceRight===v)return e&&(c=b.bind(c,e)),d!==void 0?a.reduceRight(c,d):a.reduceRight(c);a=(b.isArray(a)?a.slice():b.toArray(a)).reverse();return b.reduce(a,c,d,e)};b.find=b.detect=function(a,c,b){var e;A(a,function(a,g,f){if(c.call(b,a,g,f))return e=a,!0});return e};b.filter=b.select=function(a,c,b){var e=[];if(a==null)return e;if(w&&a.filter===w)return a.filter(c,b);h(a,function(a,g,f){c.call(b,a,g,f)&&(e[e.length]=a)});return e};b.reject=function(a,c,b){var e=[];if(a==null)return e;h(a,function(a,g,f){c.call(b,a,g,f)||(e[e.length]=a)});return e};b.every=b.all=function(a,c,b){var e=!0;if(a==null)return e;if(x&&a.every===x)return a.every(c,b);h(a,function(a,g,f){if(!(e=e&&c.call(b,a,g,f)))return m});return e};var A=b.some=b.any=function(a,c,d){c=c||b.identity;var e=!1;if(a==null)return e;if(y&&a.some===y)return a.some(c,d);h(a,function(a,b,f){if(e|=c.call(d,a,b,f))return m});return!!e};b.include=b.contains=function(a,c){var b=!1;if(a==null)return b;if(o&&a.indexOf===o)return a.indexOf(c)!=-1;A(a,function(a){if(b=a===c)return!0});return b};b.invoke=function(a,c){var d=f.call(arguments,2);return b.map(a,function(a){return(c.call?c||a:a[c]).apply(a,d)})};b.pluck=function(a,c){return b.map(a,function(a){return a[c]})};b.max=function(a,c,d){if(!c&&b.isArray(a))return Math.max.apply(Math,a);var e={computed:-Infinity};h(a,function(a,b,f){b=c?c.call(d,a,b,f):a;b>=e.computed&&(e={value:a,computed:b})});return e.value};b.min=function(a,c,d){if(!c&&b.isArray(a))return Math.min.apply(Math,a);var e={computed:Infinity};h(a,function(a,b,f){b=c?c.call(d,a,b,f):a;b<e.computed&&(e={value:a,computed:b})});return e.value};b.sortBy=function(a,c,d){return b.pluck(b.map(a,function(a,b,f){return{value:a,criteria:c.call(d,a,b,f)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),"value")};b.groupBy=function(a,b){var d={};h(a,function(a,f){var g=b(a,f);(d[g]||(d[g]=[])).push(a)});return d};b.sortedIndex=function(a,c,d){d||(d=b.identity);for(var e=0,f=a.length;e<f;){var g=e+f>>1;d(a[g])<d(c)?e=g+1:f=g}return e};b.toArray=function(a){if(!a)return[];if(a.toArray)return a.toArray();if(b.isArray(a))return f.call(a);if(b.isArguments(a))return f.call(a);return b.values(a)};b.size=function(a){return b.toArray(a).length};b.first=b.head=function(a,b,d){return b!=null&&!d?f.call(a,0,b):a[0]};b.rest=b.tail=function(a,b,d){return f.call(a,b==null||d?1:b)};b.last=function(a){return a[a.length-1]};b.compact=function(a){return b.filter(a,function(a){return!!a})};b.flatten=function(a){return b.reduce(a,function(a,d){if(b.isArray(d))return a.concat(b.flatten(d));a[a.length]=d;return a},[])};b.without=function(a){return b.difference(a,f.call(arguments,1))};b.uniq=b.unique=function(a,c){return b.reduce(a,function(a,e,f){if(0==f||(c===!0?b.last(a)!=e:!b.include(a,e)))a[a.length]=e;return a},[])};b.union=function(){return b.uniq(b.flatten(arguments))};b.intersection=b.intersect=function(a){var c=f.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})};b.difference=function(a,c){return b.filter(a,function(a){return!b.include(c,a)})};b.zip=function(){for(var a=f.call(arguments),c=b.max(b.pluck(a,"length")),d=Array(c),e=0;e<c;e++)d[e]=b.pluck(a,""+e);return d};b.indexOf=function(a,c,d){if(a==null)return-1;var e;if(d)return d=b.sortedIndex(a,c),a[d]===c?d:-1;if(o&&a.indexOf===o)return a.indexOf(c);d=0;for(e=a.length;d<e;d++)if(a[d]===c)return d;return-1};b.lastIndexOf=function(a,b){if(a==null)return-1;if(z&&a.lastIndexOf===z)return a.lastIndexOf(b);for(var d=a.length;d--;)if(a[d]===b)return d;return-1};b.range=function(a,b,d){arguments.length<=1&&(b=a||0,a=0);d=arguments[2]||1;for(var e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);f<e;)g[f++]=a,a+=d;return g};b.bind=function(a,b){if(a.bind===q&&q)return q.apply(a,f.call(arguments,1));var d=f.call(arguments,2);return function(){return a.apply(b,d.concat(f.call(arguments)))}};b.bindAll=function(a){var c=f.call(arguments,1);c.length==0&&(c=b.functions(a));h(c,function(c){a[c]=b.bind(a[c],a)});return a};b.memoize=function(a,c){var d={};c||(c=b.identity);return function(){var b=c.apply(this,arguments);return l.call(d,b)?d[b]:d[b]=a.apply(this,arguments)}};b.delay=function(a,b){var d=f.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)};b.defer=function(a){return b.delay.apply(b,[a,1].concat(f.call(arguments,1)))};var B=function(a,b,d){var e;return function(){var f=this,g=arguments,h=function(){e=null;a.apply(f,g)};d&&clearTimeout(e);if(d||!e)e=setTimeout(h,b)}};b.throttle=function(a,b){return B(a,b,!1)};b.debounce=function(a,b){return B(a,b,!0)};b.once=function(a){var b=!1,d;return function(){if(b)return d;b=!0;return d=a.apply(this,arguments)}};b.wrap=function(a,b){return function(){var d=[a].concat(f.call(arguments));return b.apply(this,d)}};b.compose=function(){var a=f.call(arguments);return function(){for(var b=f.call(arguments),d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}};b.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};b.keys=F||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],d;for(d in a)l.call(a,d)&&(b[b.length]=d);return b};b.values=function(a){return b.map(a,b.identity)};b.functions=b.methods=function(a){var c=[],d;for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()};b.extend=function(a){h(f.call(arguments,1),function(b){for(var d in b)b[d]!==void 0&&(a[d]=b[d])});return a};b.defaults=function(a){h(f.call(arguments,1),function(b){for(var d in b)a[d]==null&&(a[d]=b[d])});return a};b.clone=function(a){return b.isArray(a)?a.slice():b.extend({},a)};b.tap=function(a,b){b(a);return a};b.isEqual=function(a,c){if(a===c)return!0;var d=typeof a;if(d!=typeof c)return!1;if(a==c)return!0;if(!a&&c||a&&!c)return!1;if(a._chain)a=a._wrapped;if(c._chain)c=c._wrapped;if(a.isEqual)return a.isEqual(c);if(c.isEqual)return c.isEqual(a);if(b.isDate(a)&&b.isDate(c))return a.getTime()===c.getTime();if(b.isNaN(a)&&b.isNaN(c))return!1;if(b.isRegExp(a)&&b.isRegExp(c))return a.source===c.source&&a.global===c.global&&a.ignoreCase===c.ignoreCase&&a.multiline===c.multiline;if(d!=="object")return!1;if(a.length&&a.length!==c.length)return!1;d=b.keys(a);var e=b.keys(c);if(d.length!=e.length)return!1;for(var f in a)if(!(f in c)||!b.isEqual(a[f],c[f]))return!1;return!0};b.isEmpty=function(a){if(b.isArray(a)||b.isString(a))return a.length===0;for(var c in a)if(l.call(a,c))return!1;return!0};b.isElement=function(a){return!!(a&&a.nodeType==1)};b.isArray=n||function(a){return E.call(a)==="[object Array]"};b.isObject=function(a){return a===Object(a)};b.isArguments=function(a){return!(!a||!l.call(a,"callee"))};b.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};b.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)};b.isNumber=function(a){return!!(a===0||a&&a.toExponential&&a.toFixed)};b.isNaN=function(a){return a!==a};b.isBoolean=function(a){return a===!0||a===!1};b.isDate=function(a){return!(!a||!a.getTimezoneOffset||!a.setUTCFullYear)};b.isRegExp=function(a){return!(!a||!a.test||!a.exec||!(a.ignoreCase||a.ignoreCase===!1))};b.isNull=function(a){return a===null};b.isUndefined=function(a){return a===void 0};b.noConflict=function(){p._=C;return this};b.identity=function(a){return a};b.times=function(a,b,d){for(var e=0;e<a;e++)b.call(d,e)};b.mixin=function(a){h(b.functions(a),function(c){H(c,b[c]=a[c])})};var I=0;b.uniqueId=function(a){var b=I++;return a?a+b:b};b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};b.template=function(a,c){var d=b.templateSettings;d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(d.evaluate||null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";d=new Function("obj",d);return c?d(c):d};var j=function(a){this._wrapped=a};b.prototype=j.prototype;var r=function(a,c){return c?b(a).chain():a},H=function(a,c){j.prototype[a]=function(){var a=f.call(arguments);D.call(a,this._wrapped);return r(c.apply(b,a),this._chain)}};b.mixin(b);h(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=i[a];j.prototype[a]=function(){b.apply(this._wrapped,arguments);return r(this._wrapped,this._chain)}});h(["concat","join","slice"],function(a){var b=i[a];j.prototype[a]=function(){return r(b.apply(this._wrapped,arguments),this._chain)}});j.prototype.chain=function(){this._chain=!0;return this};j.prototype.value=function(){return this._wrapped}})();var GSFN;if(GSFN==undefined){GSFN={};}
if(!GSFN.initialized){GSFN.gId=function(id){return document.getElementById(id);};GSFN.hasClassName=function(element,className){var elementClassName=element.className;return(elementClassName.length>0&&(elementClassName==className||new RegExp("(^|\\s)"+className+"(\\s|$)").test(elementClassName)));};GSFN.addClassName=function(element,className){if(!GSFN.hasClassName(element,className))
element.className+=(element.className?' ':'')+className;return element;};GSFN.removeClassName=function(element,className){var newClass=GSFN.strip(element.className.replace(new RegExp("(^|\\s+)"+className+"(\\s+|$)"),' '));element.className=newClass;return element;};GSFN.strip=function(string){return string.replace(/^\s+/,'').replace(/\s+$/,'');};GSFN.add_css=function(css_content){var head=document.getElementsByTagName('head')[0];var style=document.createElement('style');style.type='text/css';if(style.styleSheet){style.styleSheet.cssText=css_content;}else{rules=document.createTextNode(css_content);style.appendChild(rules);}
head.appendChild(style);};GSFN.initialized=true;}
GSFN.feedback_widget=function(options){this.widget_disabled=false;this.options=options;this.is_ssl=("https:"==document.location.protocol);if(!this.options.display){this.options.display="overlay";}
if(this.is_ssl){this.feedback_base_url=this.local_ssl_base_url;this.asset_base_url=this.s3_ssl_base_url;}else{this.feedback_base_url=this.local_base_url;this.asset_base_url=this.s3_base_url;}
if(this.options.local_assets==true){this.asset_base_url=this.feedback_base_url;}
var disable_tagging=this.options.auto_tag==false;this.query=[];if(!disable_tagging){if(this.options.product){this.query.push("product="+encodeURIComponent(this.options.product));}
if(this.options.tag){this.query.push("tag="+encodeURIComponent(this.options.tag));}
if(this.options.user_defined_code){this.query.push("user_defined_code="+encodeURIComponent(this.options.user_defined_code));}}
if(this.options.display){this.query.push("display="+encodeURIComponent(this.options.display));}
if(this.options.style){this.query.push("style="+encodeURIComponent(this.options.style));}
if(this.options.popular_topics){this.query.push("popular_topics="+encodeURIComponent(this.options.popular_topics));}
if(this.options.limit){this.query.push("limit="+encodeURIComponent(this.options.limit));}
if(this.options.problem){this.query.push("problem="+encodeURIComponent(this.options.problem));}
if(this.options.powered_by){this.query.push("powered_by="+encodeURIComponent(this.options.powered_by));}
if(this.options.custom_css){this.query.push("custom_css="+encodeURIComponent(this.options.custom_css));}
if(this.options.custom_ie_css){this.query.push("custom_ie_css="+encodeURIComponent(this.options.custom_ie_css));}
if(this.options.custom_js){this.query.push("custom_js="+encodeURIComponent(this.options.custom_js));}
if(this.options.auto_tag==false){this.query.push("auto_tag="+encodeURIComponent(this.options.auto_tag));}
if(this.options.interstitial){this.query.push("interstitial="+encodeURIComponent(this.options.interstitial));}
if(this.options.community_base_url){this.query.push("community_base_url="+encodeURIComponent(this.options.community_base_url));}
if(this.options.document_domain){this.query.push("document_domain="+encodeURIComponent(this.options.document_domain));}
var fastpass=this.get_fastpass_url(this.options);if(fastpass){this.query.push("fastpass="+encodeURIComponent(fastpass));}
this.query_string="?"+this.query.join("&");this.feedback_url=this.feedback_base_url+"/"+this.options.company+"/feedback/topics/new"+this.query_string;this.options=options?options:{};this.options.placement=this.options.placement?this.options.placement:'left';this.options.color=this.options.color?this.options.color:'#222';if(this.options.display=='overlay'){this.initial_iframe_url='';if(!this.options.width){if(this.options.company=='rightcliq_by_visa'){this.options.width="780px;";}else{this.options.width="658px";}}
if(!this.options.height){this.options.height="100%";}}else{this.initial_iframe_url=this.feedback_url;if(!this.options.width){this.options.width="100%";}
if(!this.options.height){this.options.height="500px";}}
if(this.widget_disabled){this.iframe_html='<div id="fdbk_iframe" style="position:relative; top: 20px; margin:20px;background:orange;color:purple;font-size:72px; padding: 20px;">'+'WIDGETS ARE UNAVAILABLE LOL'+'</div>';}
else{this.iframe_html='<iframe id="fdbk_iframe" allowTransparency="true" scrolling="no" frameborder="0" class="loading"'+
(this.initial_iframe_url!=''?' src="'+this.initial_iframe_url+'"':'')+' width="'+this.options.width+'"'+' height="'+this.options.height+'"'+' style="width: '+this.options.width+'; height: '+this.options.height+';"></iframe>';}
this.tab_html='<a href="#" id="fdbk_tab" class="fdbk_tab_'+this.options.placement+'" style="display:none;background-color:'+this.options.color+'">FEEDBACK</a>';this.overlay_html='<div id="fdbk_overlay" style="display:none">'+'<div id="fdbk_container">'+'<a href="#" id="fdbk_close"></a>'+
this.iframe_html+'</div>'+'<div id="fdbk_screen"></div>'+'</div>';if(this.options.display=='overlay'){raw_css="#fdbk_overlay {\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1000000;\n  position: absolute; }\n\n#fdbk_screen {\n  top: 0;\n  left: 0;\n  z-index: 1;\n  width: 100%;\n  position: absolute;\n  background-color: black;\n  opacity: 0.45;\n  -moz-opacity: 0.45;\n  filter: alpha(opacity=45); }\n\n#fdbk_container {\n  width: 680px;\n  height: 640px;\n  margin: 0 auto;\n  z-index: 2;\n  position: relative; }\n  #fdbk_container iframe {\n    width: 658px;\n    height: 100%;\n    margin: 20px;\n    background: transparent; }\n  #fdbk_container iframe.loading {\n    background: transparent url(https://s3.amazonaws.com/getsatisfaction.com/images/fb_loading.png) no-repeat; }\n\na#fdbk_tab {\n  top: 25%;\n  left: 0;\n  width: 42px;\n  height: 102px;\n  color: white;\n  cursor: pointer;\n  text-indent: -100000px;\n  overflow: hidden;\n  position: fixed;\n  z-index: 100000;\n  margin-left: -7px;\n  background-image: url(https://s3.amazonaws.com/getsatisfaction.com/images/feedback_trans_tab.png);\n  _position: absolute;\n  _background-image: url(https://s3.amazonaws.com/getsatisfaction.com/images/feedback_tab_ie6.png); }\n  a#fdbk_tab:hover {\n    margin-left: -4px; }\n\na.fdbk_tab_right {\n  right: 0 !important;\n  left: auto !important;\n  margin-right: 0 !important;\n  margin-left: auto !important;\n  width: 35px !important; }\n  a.fdbk_tab_right:hover {\n    width: 38px !important;\n    margin-right: 0 !important;\n    margin-left: auto !important; }\n\na.fdbk_tab_bottom {\n  top: auto !important;\n  bottom: 0 !important;\n  left: 20% !important;\n  height: 38px !important;\n  width: 102px !important;\n  background-position: 0 -102px !important;\n  margin-bottom: -7px !important;\n  margin-left: auto !important; }\n  a.fdbk_tab_bottom:hover {\n    margin-bottom: -4px !important;\n    margin-left: auto !important; }\n\na.fdbk_tab_hidden {\n  display: none !important; }\n\na#fdbk_close {\n  position: absolute;\n  cursor: pointer;\n  outline: none;\n  top: 0;\n  left: 0;\n  z-index: 4;\n  width: 42px;\n  height: 42px;\n  overflow: hidden;\n  background-image: url(https://s3.amazonaws.com/getsatisfaction.com/images/feedback-close.png);\n  _background: none;\n  _filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='https://s3.amazonaws.com/getsatisfaction.com/images/feedback-close.png', sizingMethod='crop'); }\n  a#fdbk_close:hover {\n    background-position: -42px 0; }\n\n.feedback_tab_on embed, .feedback_tab_on select, .feedback_tab_on object {\n  visibility: hidden; }\n";replacer_regex=new RegExp(this.s3_ssl_base_url,"g");translated_css=raw_css.replace(replacer_regex,this.asset_base_url);GSFN.add_css(translated_css);if(this.options.container){var container_el=GSFN.gId(this.options.container);container_el.innerHTML=this.tab_html+this.overlay_html;}else{document.write(this.tab_html);document.write(this.overlay_html);}
var feedback_obj=this;GSFN.gId('fdbk_tab').onclick=function(){feedback_obj.show();return false;};GSFN.gId('fdbk_close').onclick=function(){feedback_obj.hide();return false;};GSFN.gId('fdbk_iframe').removeAttribute("src");}else{if(this.options.container){var container_el=GSFN.gId(this.options.container);container_el.innerHTML=this.iframe_html;}else{document.write(this.iframe_html);}}};GSFN.feedback_widget.prototype={local_base_url:"http://getsatisfaction.com",local_ssl_base_url:"https://getsatisfaction.com",s3_base_url:"http://s3.amazonaws.com/getsatisfaction.com",s3_ssl_base_url:"https://s3.amazonaws.com/getsatisfaction.com",asset_url:function(asset){return this.asset_base_url+asset;},set_position:function(){this.scroll_top=document.documentElement.scrollTop||document.body.scrollTop;this.scroll_height=document.documentElement.scrollHeight;this.client_height=window.innerHeight||document.documentElement.clientHeight;GSFN.gId('fdbk_screen').style.height=this.scroll_height+"px";GSFN.gId('fdbk_container').style.top=this.scroll_top+(this.client_height*0.1)+"px";},show:function(){GSFN.gId('fdbk_iframe').setAttribute("src",this.feedback_url);if(GSFN.gId('fdbk_iframe').addEventListener){GSFN.gId('fdbk_iframe').addEventListener("load",this.loaded,false);}else if(GSFN.gId('fdbk_iframe').attachEvent){GSFN.gId('fdbk_iframe').attachEvent("onload",this.loaded);}
this.set_position();GSFN.addClassName(document.getElementsByTagName('html')[0],'feedback_tab_on');GSFN.gId('fdbk_overlay').style.display="block";},hide:function(){if(GSFN.gId('fdbk_iframe').addEventListener){GSFN.gId('fdbk_iframe').removeEventListener("load",this.loaded,false);}else if(GSFN.gId('fdbk_iframe').attachEvent){GSFN.gId('fdbk_iframe').detachEvent("onload",this.loaded);}
GSFN.gId('fdbk_overlay').style.display="none";GSFN.gId('fdbk_iframe').removeAttribute("src");GSFN.gId('fdbk_iframe').className="loading";GSFN.removeClassName(document.getElementsByTagName('html')[0],'feedback_tab_on');},loaded:function(){GSFN.gId('fdbk_iframe').className="loaded";},get_fastpass_url:function(options){if(options.fastpass){return options.fastpass;}
var script_tags=document.getElementsByTagName('script');for(var i=0;i<script_tags.length;i++){var tag=script_tags[i];if(tag.src.match(/\/fastpass/&&tag.src.match(/oauth/))){return tag.src;}}}};var feedback_widget_options={};feedback_widget_options.display="overlay";feedback_widget_options.company="wordnik";feedback_widget_options.placement="left";feedback_widget_options.color="#AAAAAA";feedback_widget_options.style="problem";feedback_widget_options.limit="5";GSFN.feedback_widget.prototype.local_base_url="http://support.wordnik.com";GSFN.feedback_widget.prototype.local_ssl_base_url="http://support.wordnik.com";var feedback_widget=new GSFN.feedback_widget(feedback_widget_options);var _gaq=_gaq||[];_gaq.push(['_setAccount','UA-5424156-1'],['_setDomainName','.wordnik.com'],['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();var addToHome=(function(w){var nav=w.navigator,isIDevice='platform'in nav&&(/iphone|ipod|ipad/gi).test(nav.platform),isIPad,isRetina,isSafari,isStandalone,OSVersion,startX=0,startY=0,isExpired,isSessionActive,isReturningVisitor,balloon,overrideChecks,positionInterval,closeTimeout,options={autostart:true,returningVisitor:true,animationIn:'fade',animationOut:'fade',startDelay:2000,lifespan:15000,bottomOffset:14,expire:720,message:'',touchIcon:false,arrow:true,hookOnLoad:true,iterations:100},intl={ca_es:'Per installar aquesta aplicaci al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d\'inici</strong>.',da_dk:'Tilfj denne side til din %device: tryk p %icon og derefter <strong>Tilfj til hjemmeskrm</strong>.',de_de:'Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.',el_gr:'       %device: %icon   <strong>  </strong>.',en_us:'Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.',es_es:'Para instalar esta app en su %device, pulse %icon y seleccione <strong>Aadir a pantalla de inicio</strong>.',fi_fi:'Asenna tm web-sovellus laitteeseesi %device: paina %icon ja sen jlkeen valitse <strong>Lis Koti-valikkoon</strong>.',fr_fr:'Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter  l\'cran d\'accueil</strong>.',he_il:'<span dir="rtl">    -%device :  %icon  <strong>  </strong>.</span>',hu_hu:'Teleptse ezt a web-alkalmazst az n %device-jra: nyomjon a %icon-ra majd a <strong>Fkpernyhz ads</strong> gombra.',it_it:'Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.',ja_jp:'%device%icon<strong></strong>',ko_kr:'%device   %icon   " " ',nb_no:'Installer denne appen p din %device: trykk p %icon og deretter <strong>Legg til p Hjem-skjerm</strong>',nl_nl:'Installeer deze webapp op uw %device: tik %icon en dan <strong>Zet in beginscherm</strong>.',pl_pl:'Aby zainstalowa t aplikacje na %device: nacinij %icon a nastpnie <strong>Dodaj jako ikon</strong>.',pt_br:'Instale este web app em seu %device: aperte %icon e selecione <strong>Adicionar  Tela Inicio</strong>.',pt_pt:'Para instalar esta aplicao no seu %device, prima o %icon e depois o <strong>Adicionar ao ecr principal</strong>.',ru_ru:'  -   %device:  %icon,  <strong>  </strong>.',sv_se:'Lgg till denna webbapplikation p din %device: tryck p %icon och drefter <strong>Lgg till p hemskrmen</strong>.',th_th:'  %device :  %icon  <strong></strong>',tr_tr:'%device iin bu uygulamay kurduktan sonra %icon simgesine dokunarak <strong>Ev Ekranna Ekle</strong>yin.',zh_cn:' %device  %icon <strong></strong>',zh_tw:' %device  %icon <strong></strong>'};function init(){if(!isIDevice)return;var now=Date.now(),i;if(w.addToHomeConfig){for(i in w.addToHomeConfig){options[i]=w.addToHomeConfig[i];}}
if(!options.autostart)options.hookOnLoad=false;isIPad=(/ipad/gi).test(nav.platform);isRetina=w.devicePixelRatio&&w.devicePixelRatio>1;isSafari=nav.appVersion.match(/Safari/gi);isStandalone=nav.standalone;OSVersion=nav.appVersion.match(/OS (\d+_\d+)/i);OSVersion=OSVersion[1]?+OSVersion[1].replace('_','.'):0;isExpired=+w.localStorage.getItem('addToHome')||now;isSessionActive=w.sessionStorage.getItem('addToHomeSession');isReturningVisitor=!options.returningVisitor||(isExpired&&isExpired+28*24*60*60*1000>now);isExpired=(!options.expire||isExpired<=now);if(options.hookOnLoad)w.addEventListener('load',loaded,false);else if(!options.hookOnLoad&&options.autostart)loaded();}
function loaded(){w.removeEventListener('load',loaded,false);if(!overrideChecks&&(!isSafari||!isExpired||isSessionActive||isStandalone||!isReturningVisitor))return;if(options.expire||options.returningVisitor){w.localStorage.setItem('addToHome',Date.now()+options.expire*60000);}
var icons=options.touchIcon?document.querySelectorAll('head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]'):[],sizes,touchIcon='',closeButton,platform=nav.platform.split(' ')[0],language=nav.language.replace('-','_'),i,l;balloon=document.createElement('div');balloon.id='addToHomeScreen';balloon.style.cssText+='left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:'+(OSVersion<5?'absolute':'fixed');if(options.message in intl){language=options.message;options.message='';}
if(options.message===''){options.message=language in intl?intl[language]:intl['en_us'];}
if(icons.length){for(i=0,l=icons.length;i<l;i++){sizes=icons[i].getAttribute('sizes');if(sizes){if(isRetina&&sizes=='114x114'){touchIcon=icons[i].href;break;}}else{touchIcon=icons[i].href;}}
touchIcon='<span style="background-image:url('+touchIcon+')" class="addToHomeTouchIcon"></span>';}
balloon.className=(isIPad?'addToHomeIpad':'addToHomeIphone')+(touchIcon?' addToHomeWide':'');balloon.innerHTML=touchIcon+
options.message.replace('%device',platform).replace('%icon',OSVersion>=4.2?'<span class="addToHomeShare"></span>':'<span class="addToHomePlus">+</span>')+
(options.arrow?'<span class="addToHomeArrow"></span>':'')+'<span class="addToHomeClose">\u00D7</span>';document.body.appendChild(balloon);closeButton=balloon.querySelector('.addToHomeClose');if(closeButton)closeButton.addEventListener('click',clicked,false);setTimeout(show,options.startDelay);}
function show(){var duration,iPadXShift=160;if(isIPad){if(OSVersion<5){startY=w.scrollY;startX=w.scrollX;iPadXShift=208;}
balloon.style.top=startY+options.bottomOffset+'px';balloon.style.left=startX+iPadXShift-Math.round(balloon.offsetWidth/2)+'px';switch(options.animationIn){case'drop':duration='0.6s';balloon.style.webkitTransform='translate3d(0,'+-(w.scrollY+options.bottomOffset+balloon.offsetHeight)+'px,0)';break;case'bubble':duration='0.6s';balloon.style.opacity='0';balloon.style.webkitTransform='translate3d(0,'+(startY+50)+'px,0)';break;default:duration='1s';balloon.style.opacity='0';}}else{startY=w.innerHeight+w.scrollY;if(OSVersion<5){startX=Math.round((w.innerWidth-balloon.offsetWidth)/2)+w.scrollX;balloon.style.left=startX+'px';balloon.style.top=startY-balloon.offsetHeight-options.bottomOffset+'px';}else{balloon.style.left='50%';balloon.style.marginLeft=-Math.round(balloon.offsetWidth/2)+'px';balloon.style.bottom=options.bottomOffset+'px';}
switch(options.animationIn){case'drop':duration='1s';balloon.style.webkitTransform='translate3d(0,'+-(startY+options.bottomOffset)+'px,0)';break;case'bubble':duration='0.6s';balloon.style.webkitTransform='translate3d(0,'+(balloon.offsetHeight+options.bottomOffset+50)+'px,0)';break;default:duration='1s';balloon.style.opacity='0';}}
balloon.offsetHeight;balloon.style.webkitTransitionDuration=duration;balloon.style.opacity='1';balloon.style.webkitTransform='translate3d(0,0,0)';balloon.addEventListener('webkitTransitionEnd',transitionEnd,false);closeTimeout=setTimeout(close,options.lifespan);}
function manualShow(override){if(!isIDevice||balloon)return;overrideChecks=override;loaded();}
function close(){clearInterval(positionInterval);clearTimeout(closeTimeout);closeTimeout=null;var posY=0,posX=0,opacity='1',duration='0',closeButton=balloon.querySelector('.addToHomeClose');if(closeButton)closeButton.removeEventListener('click',close,false);if(OSVersion<5){posY=isIPad?w.scrollY-startY:w.scrollY+w.innerHeight-startY;posX=isIPad?w.scrollX-startX:w.scrollX+Math.round((w.innerWidth-balloon.offsetWidth)/2)-startX;}
balloon.style.webkitTransitionProperty='-webkit-transform,opacity';switch(options.animationOut){case'drop':if(isIPad){duration='0.4s';opacity='0';posY=posY+50;}else{duration='0.6s';posY=posY+balloon.offsetHeight+options.bottomOffset+50;}
break;case'bubble':if(isIPad){duration='0.8s';posY=posY-balloon.offsetHeight-options.bottomOffset-50;}else{duration='0.4s';opacity='0';posY=posY-50;}
break;default:duration='0.8s';opacity='0';}
balloon.addEventListener('webkitTransitionEnd',transitionEnd,false);balloon.style.opacity=opacity;balloon.style.webkitTransitionDuration=duration;balloon.style.webkitTransform='translate3d('+posX+'px,'+posY+'px,0)';}
function clicked(){w.sessionStorage.setItem('addToHomeSession','1');isSessionActive=true;close();}
function transitionEnd(){balloon.removeEventListener('webkitTransitionEnd',transitionEnd,false);balloon.style.webkitTransitionProperty='-webkit-transform';balloon.style.webkitTransitionDuration='0.2s';if(!closeTimeout){balloon.parentNode.removeChild(balloon);balloon=null;return;}
if(OSVersion<5&&closeTimeout)positionInterval=setInterval(setPosition,options.iterations);}
function setPosition(){var matrix=new WebKitCSSMatrix(w.getComputedStyle(balloon,null).webkitTransform),posY=isIPad?w.scrollY-startY:w.scrollY+w.innerHeight-startY,posX=isIPad?w.scrollX-startX:w.scrollX+Math.round((w.innerWidth-balloon.offsetWidth)/2)-startX;if(posY==matrix.m42&&posX==matrix.m41)return;balloon.style.webkitTransform='translate3d('+posX+'px,'+posY+'px,0)';}
function reset(){w.localStorage.removeItem('addToHome');w.sessionStorage.removeItem('addToHomeSession');}
init();return{show:manualShow,close:close,reset:reset};})(this);config={"stage":{"slim_threshold":1060,"mobile_threshold":768},"word_actions":["define","relate","list","discuss","see","hear","love"],"sounds":{"ttl":25},"sass":{"link_color":"#1980D7","link_color_dark":"#02649B","hover_color":"#E6F2FB","highlight_color":"#FCF4C8","orange_light":"#FFA014","orange_medium":"#FF4E00","orange_dark":"#FF5401","error_color":"#E00A19","notice_color":"#378C00","call_to_action_background-color":"#FCF6DB","call_to_action_border-color":"#DDD6BA","call_to_action_text-color":"#706D63","love_color":"#E00A19","define_color":"#1980D7","relate_color":"#378C00","list_color":"#C41889","discuss_color":"#DD6D19","see_color":"#029DB7","hear_color":"#825D24","record_color":"#E00A19","share_color":"#613092","translate_color":"#068E8E","love_color_light":"#F8E4DC","define_color_light":"#E7ECF7","relate_color_light":"#EAF4E7","list_color_light":"#F7E6F0","discuss_color_light":"#FBEDE1","see_color_light":"#E8F2F6","hear_color_light":"#EFE8DD","share_color_light":"#E7E1EF","translate_color_light":"#068E8E","top_bar_background-color":"#000000","body_width":"960px","body_width_phone":"320px","top_bar_height":"50px","search_box_width":"253px","search_box_width_phone":"140px","search_button_width":"40px","blueprint-grid-columns":24,"blueprint-grid-width":"30px","blueprint-grid-margin":"10px"}};(function($){var proto=$.ui.autocomplete.prototype,initSource=proto._initSource;function filter(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test($("<div>").html(value.label||value.value||value).text());});}
$.extend(proto,{_initSource:function(){if(this.options.html&&$.isArray(this.options.source)){this.source=function(request,response){response(filter(this.options.source,request.term));};}else{initSource.call(this);}},_renderItem:function(ul,item){return $("<li></li>").data("item.autocomplete",item).append($("<a></a>")[this.options.html?"html":"text"](item.label)).appendTo(ul);}});})(jQuery);var Wordnik=new function(){this.current_xhr;function wordAutoCompleteCallback(inputid,formid,noAutoSubmit,searchstring){$('#'+inputid).addClass('loading');if(searchstring.match(/See all results for /)){window.location="/search/"+searchstring.split("See all results for ")[1]}else{$('#'+inputid).val(searchstring);if(noAutoSubmit){return false;}else{$('#'+formid)[0].submit();}}
return false;}
this.wordAutoComplete=function(inputid,formid,noAutoSubmit){$('#'+inputid).autocomplete({delay:100,html:true,source:function(request,response){if(Wordnik.current_xhr){Wordnik.current_xhr.abort();}
$('#'+inputid).addClass('loading');Wordnik.current_xhr=$.ajax({url:"/c",dataType:'json',data:{s:request.term,count:5},success:function(data){Wordnik.current_xhr=null;$('#'+inputid).removeClass('loading');response($.map(data,function(item){return{label:(" <span>"+item.count+"</span>"+item.word),value:item.word}}));$("ul.ui-autocomplete li:last").addClass('ui-menu-item-search');}});},select:function(event,ui){wordAutoCompleteCallback(inputid,formid,noAutoSubmit,ui.item.value);}}).keypress(function(e){if(e.keyCode==13){wordAutoCompleteCallback(inputid,formid,noAutoSubmit,$(this).val());return false;}});}}
function log(){if(window.mobile){}else if(window.console){console.log.apply(console,arguments);}}
Object.size=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++;}
return size;};if(!Object.keys)Object.keys=function(o){if(o!==Object(o))
throw new TypeError('Object.keys called on non-object');var ret=[],p;for(p in o)if(Object.prototype.hasOwnProperty.call(o,p))ret.push(p);return ret;};if(!Array.prototype.indexOf)
{Array.prototype.indexOf=function(elt)
{var len=this.length>>>0;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0)
from+=len;for(;from<len;from++)
{if(from in this&&this[from]===elt)
return from;}
return-1;};}
Array.prototype.remove=function(){var what,a=arguments,L=a.length,ax;while(L&&this.length){what=a[--L];while((ax=this.indexOf(what))!=-1){this.splice(ax,1);}}
return this;};(function(){$(document).ready(function(){return window.sounds={jukeIndex:-1,ids:null,init:function(){var expiration;expiration=(new Date).getTime()+(config.sounds.ttl*1000);$("div.sounds > ul > li").data("expiration",expiration);window.sounds.ids=$("div.sounds > ul > li").map(function(){return $(this).data("id");});return $("form#new_sound").bind("submit",function(){$("#recorder").addClass("loading");return $("#sound_submit").attr("disabled","disabled");}).live("ajax:success",function(event,data,status,xhr){var audio_type,sounds_container_type;audio_type=$("input[name='sound[audio_type]']:checked").val();sounds_container_type=audio_type==='sound'?'effects':'pronunciations';log(sounds_container_type);$(data).hide().prependTo("div."+sounds_container_type+" > ul").slideDown();$("div."+sounds_container_type+" p.empty").slideUp();return $("#recorder").slideUp("normal",function(){$("a#show_recorder div").html("Record another!");return $("a#show_recorder").slideDown();});}).live("ajax:error",function(event,xhr,status,error){return alert(xhr.responseText);});},getFlashMovie:function(movieName){var isIE;isIE=navigator.appName.indexOf("Microsoft")!==-1;if(isIE){return window[movieName];}else{return document[movieName];}},isExpired:function(id){var expiration,now;expiration=$("li#sound_"+id).data("expiration");now=(new Date).getTime();return now>expiration;},refresh:function(id,word){$("li#sound_"+id).addClass("loading");return $.get("/words/"+word+"/sound/"+id,function(data){var expiration;expiration=(new Date).getTime()+(config.sounds.ttl*1000);$("li#sound_"+id).data("expiration",expiration);$("li#sound_"+id+" .player_container").html(data);return setTimeout("window.sounds.play("+id+", '"+word+"');",500);});},play:function(id,word){if(window.sounds.isExpired(id)){return window.sounds.refresh(id,word);}else{$("li#sound_"+id).removeClass("loading");return window.sounds.getFlashMovie("sound_"+id+"_swf").doPron("play");}},playNext:function(){var id;if(!window.sounds.ids||window.sounds.ids.length===0)return;if(window.sounds.jukeIndex===window.sounds.ids.length-1){window.sounds.jukeIndex=0;}else{window.sounds.jukeIndex+=1;}
id=window.sounds.ids[window.sounds.jukeIndex];return $("li#sound_"+id+" a.play_sound").click();},show_recorder:function(word){$("a#show_recorder").slideUp();return $.get("/words/"+word+"/recorder",function(data){return $("#recorder").hide().html(data).slideDown();});},destroy:function(word,id){if(confirm("Are you sure you want to delete this pronunciation?")){return $.ajax({type:"POST",url:"/people/delete_pronunciation",data:{word:word,id:id},dataType:"html",success:function(data){return $("li#sound_"+id).slideUp("normal",function(){return $(this).remove();});}});}}};});}).call(this);(function(){$(document).ready(function(){return window.users={init:function(){return $("form#signup #user_user_name").bind("keyup",function(){return window.users.checkUsernameAvailability();});},removeErrors:function(){$("li#user_user_name_input p.inline-errors").remove();return $("li#user_user_name_input").removeClass('error');},checkUsernameAvailability:function(){var desired_username,url;desired_username=$('#user_user_name').val();log('checkUsernameAvailability: '+desired_username);if(desired_username.length<1){window.users.removeErrors();return;}
url='/users/'+encodeURIComponent(desired_username)+'/check_username_availability';return $.getJSON(url,function(data){window.users.removeErrors();if(data.type==='error'){return $("li#user_user_name_input").addClass('error').append('<p class="inline-errors">'+data.message+'</p>');}});}};});}).call(this);(function(){$(document).ready(function(){return window.lists={init:function(){if(!window.mobile){$("div.module.lists ul.featured_lists").isotope({itemSelector:"li",layoutMode:"masonry"});}
$("a.toggle_listage").live("click",function(){return $(this).addClass("loading");}).live("ajax:error",function(event,xhr,status,error){return $("ul#user_lists").prepend(xhr.responseText);}).live("ajax:success",function(event,data,status,xhr){return $(this).closest("li").replaceWith(data);});$("form#new_list").live("ajax:success",function(event,data,status,xhr){$("ul#user_lists").prepend(data);return window.lists.toggleNewForm();}).live("ajax:error",function(event,xhr,status,error){return $("form#new_list").prepend(xhr.responseText);});$("input#word_name").focus(function(){return $('#word_adding_tip').fadeIn();});$("form#new_word").live("ajax:success",function(event,data,status,xhr){$("input#word_name").val('');$("ul.listed_words").append(data);$("ul.listed_words li:last").hide().slideDown();return $('#word_count').text($("ul.listed_words > li").length);}).live("ajax:error",function(event,xhr,status,error){log('There was a problem adding your word');return log(xhr.responseText);});$("#lists a.delete_item").live("click",function(){return log('#lists a.delete_item -> click');}).live("ajax:error",function(event,xhr,status,error){log('#lists a.delete_item -> error');return log(xhr.responseText);}).live("ajax:success",function(event,data,status,xhr){log('#lists a.delete_item -> success');$(this).closest("li").slideUp('normal',function(){return $(this).remove();});return $('#word_count').text($("ul.listed_words > li").length);});this.initSorting();return this.initFavoriteList();},initFavoriteList:function(){return $("#toggle_favorite_list").live("ajax:success",function(event,data,status,xhr){if(data.favorited){$("h1#headword span.heart_quotes").fadeTo('slow',1,function(){return $("h1#headword").addClass('loved');});return $("ul#actions a.love").html("<em>un</em>Love");}else{$("h1#headword").removeClass('loved');$("h1#headword span.heart_quotes").fadeTo('slow',0);return $("ul#actions a.love").text('Love');}});},love:function(){if(logged_in){return $("form#toggle_favorite_list").submit();}else{return $("#login_for_love").slideDown();}},initSorting:function(){window.lists.sort();return $("form#list_sort select").change(function(event){$.jStorage.set('lists.sort_property',$(this).val().split(',')[0]);$.jStorage.set('lists.sort_order',$(this).val().split(',')[1]);window.lists.sort();return false;});},sort:function(){var order,property;property=$.jStorage.get('lists.sort_property','id');order=$.jStorage.get('lists.sort_order','asc');$("form#list_sort select").val([property,order].join(','));switch(property){case"alpha":return $("ul.listed_words > li").tsort("",{order:order});case"id":return $("ul.listed_words > li").tsort("span.id",{order:order});default:return log('no sorting for '+property+' property');}},showAllUserLists:function(){$("div.module.lists ul#user_lists li").show();return $("div.module.lists ul#user_lists li.show_all").hide();},showAllOtherLists:function(){$("div.module.lists ul.other_lists li").show();return $("div.module.lists ul.other_lists li.show_all").hide();},toggleNewForm:function(){var container,form,toggler;container=$("#new_list_form_container");toggler=$("a#new_list_form_toggler");form=$("form#new_list");if(container.is(":visible")){container.slideUp();return toggler.text("New List");}else{form.find("li.string input, textarea").val("");form.find("div.call_to_action").remove();container.slideDown();return toggler.text("New List (Cancel)");}}};});}).call(this);(function(){$(document).ready(function(){return window.related_words={init:function(){if(!mobile){return $("div.module.related ul.relations").isotope({itemSelector:"li",layoutMode:"masonry"});}},showAll:function(){$("div.module.related_words ul.relations li ul li").show();return $("div.module.related_words ul.relations li ul li.show_all").hide();}};});}).call(this);(function(){$(document).ready(function(){return window.comments={init:function(){$("form.comment.create").live("ajax:success",function(event,data,status,xhr){$(this).closest("div.module.comments").find('ul.comments').prepend(data);$(this).closest("div.module.comments").find('ul.comments li:first').hide().slideDown();$("form.comment.create textarea").val("");return $("div.module.comments p.empty").fadeOut();}).live("ajax:error",function(event,xhr,status,error){return $(this).after(xhr.responseText).hide().slideDown();});$("a.edit_comment").live("click",function(){var comment;comment=$("li#comment_"+$(this).data("commentId"));return comment.find("li.edit").slideUp();}).live("ajax:error",function(event,xhr,status,error){var comment;comment=$("li#comment_"+$(this).data("commentId"));return comment.find("div.form").html(xhr.responseText).hide().slideDown();}).live("ajax:success",function(event,data,status,xhr){var comment;comment=$("li#comment_"+$(this).data("commentId"));return comment.find("div.body").slideUp("normal",function(){return comment.find("div.form").html(data).hide().slideDown();});});$("form.comment.update").live("ajax:success",function(event,data,status,xhr){return $(this).closest("li.comment").replaceWith(data);}).live("ajax:error",function(event,xhr,status,error){return $(this).after(xhr.responseText).hide().slideDown();});$("a.delete_comment").live("click",function(){var comment;return comment=$("li#comment_"+$(this).data("commentId"));}).live("ajax:error",function(event,xhr,status,error){return comment.find("div.form").html(xhr.responseText).hide().slideDown();}).live("ajax:success",function(event,data,status,xhr){var comment;comment=$("li#comment_"+$(this).data("commentId"));return comment.slideUp();});$("a.edit_comment, a.delete_comment, form.comment.create, form.comment.update").live("ajax:before",function(xhr,status){var comment;comment=$("li#comment_"+$(this).data("commentId"));log(comment);return comment.addClass("loading");});return $("a.edit_comment, a.delete_comment, form.comment.create, form.comment.update").live("ajax:complete",function(xhr,status){var comment;comment=$("li#comment_"+$(this).data("commentId"));return comment.removeClass("loading");});},cancelEdit:function(id){var comment;comment=$("li#comment_"+id);return comment.find("div.form").slideUp("normal",function(){return comment.find("div.body").slideDown("normal",function(){return comment.find("li.edit").slideDown();});});}};});}).call(this);(function(){$(document).ready(function(){return window.examples={busy:false,init:function(){return $("a#show_more_examples").live("ajax:before",function(event){if(window.examples.busy)return false;window.examples.busy=true;return window.examples.updateShowMoreLink();}).live("ajax:complete",function(event,xhr,status){window.examples.updateShowMoreLink();return window.examples.busy=false;}).live("ajax:success",function(event,data,status,xhr){return window.examples.handleShowMoreResponse(data);});},countTotal:function(){return parseInt($("a#show_more_examples").attr("title"),10);},countRendered:function(){return $("div.module.examples ul.examples li").length;},updateShowMoreLink:function(){if(window.examples.countRendered()>=window.examples.countTotal()){return $("a#show_more_examples").slideUp();}else{return $("a#show_more_examples").attr("href",function(index,old){return old.replace(/skip=\d+/,"skip="+window.examples.countRendered());});}},handleShowMoreResponse:function(data){if(data.status==="success"){return $("div.module.examples ul.examples").append(data.partial);}else if(data.status==="error"){return $("div.module.examples div.content").prepend(data.partial);}else{log("window.examples.handleShowMoreResponse blowed up!");return log(data);}}};});}).call(this);(function(){$(document).ready(function(){return window.word={current:function(){return $("#headword").attr("title");},init:function(){this.initToggleFavorite();this.initMobileModuleToggling();return this.loadAjaxModules();},initToggleFavorite:function(){return $("form#toggle_favor").live("ajax:success",function(event,data,status,xhr){if(data.favorited){$("h1#headword span.heart_quotes").fadeTo('slow',1,function(){return $("h1#headword").addClass('loved');});return $("ul#word_actions a.love").html("<em>un</em>Love");}else{$("h1#headword").removeClass('loved');$("h1#headword span.heart_quotes").fadeTo('slow',0);return $("ul#word_actions a.love").text('Love');}});},initMobileModuleToggling:function(){return $('.module h2').live('click',function(){if(window.mobile)return $(this).next().toggleClass('active');});},initModuleSlider:function(){return $(window).bind("load",function(e){var scollTo;window.stage.adaptToScale();scollTo=$.param.fragment()||"";switch(scollTo){case"definitions":return window.word.go("define");case"related":return window.word.go("relate");case"lists":return window.word.go("list");case"comments":return window.word.go("discuss");case"photos":return window.word.go("see");case"sounds":return window.word.go("hear");case"tags":return window.word.go("tag");}});},loadAjaxModules:function(){return $(".module_container").each(function(){var module_id,module_name;module_id=$(this).attr("id");module_name=module_id.replace("_container","");return $.ajax({url:"/words/"+(window.word.current())+"/"+module_name,dataType:"html",success:function(data){if(window.mobile){if(module_name!=="sounds")$("#"+module_id).html(data);}else{$("#"+module_id).hide().html(data).slideDown();}
if(module_name==="sounds")return window.sounds.init();}});});},go:function(action,logged_in){if(window.stage.layoutMode==="horizontal"){$("#word_actions a").removeClass("active");$("#word_actions a."+action).addClass("active");$.scrollTo(0,500);}
switch(action){case"define":window.location.hash="definitions";return window.stage.slideToSection(action);case"relate":window.stage.slideToSection(action);return window.location.hash="related";case"list":window.stage.slideToSection(action);return window.location.hash="lists";case"love":if(logged_in){return $("form#toggle_favor").submit();}else{return $("#login_for_love").slideDown();}
break;case"discuss":window.stage.slideToSection(action);return window.location.hash="comments";case"see":window.stage.slideToSection(action);return window.location.hash="photos";case"hear":window.stage.slideToSection(action);return window.location.hash="sounds";case"share":window.stage.slideToSection(action);return window.location.hash="share";case"translate":return window.stage.slideToSection(action);}}};});}).call(this);(function(){$(document).ready(function(){return window.definitions={togglePartOfSpeech:function(pos){$("div."+pos+" div.definitions").slideToggle();return $("div."+pos+" a.toggler").toggleClass("active");}};});}).call(this);(function(){}).call(this);(function(){$(document).ready(function(){return window.photos={init:function(){return $("div.module.photos ul.thumbs").isotope({itemSelector:"li",layoutMode:"masonry"});}};});}).call(this);(function(){$(document).ready(function(){return window.homepage={init:function(){window.homepage.adaptToScale();$("#homepage_form").validate();$("#homepage_form #word_name").focus();$("#homepage_footer").css({visibility:"visible",position:"absolute",bottom:"0px"});$("body.homepage #top_bar").hide();$("#homepage_form #word_name").keyup(function(event){if($("#homepage_form #word_name").val().length>0){return window.top_bar.disable();}else{return window.top_bar.enable();}});return $(window).resize(function(){return window.homepage.adaptToScale();});},adaptToScale:function(){return $("#homepage_form").css({marginTop:$(window).height()/2-$("#homepage_form").height()/2,marginLeft:$(window).width()/2-$("#homepage_form").width()/2});}};});}).call(this);(function(){$(document).ready(function(){return window.top_bar={active:true,explicityDisabled:false,revealDelay:1000,init:function(){window.top_bar.active=!$("body").hasClass('homepage');setTimeout((function(){return window.top_bar.attemptToOpen();}),window.top_bar.revealDelay);$(document).bind("keydown","/",function(evt){$("form#search_box input.text").focus();evt.stopPropagation();evt.preventDefault();return false;});return $("form#search_box").validate();},updateAppearance:function(){var empty_space;if(window.mobile){return $("form#search_box").css({marginLeft:0});}else{empty_space=$('#top_bar .container').outerWidth()-$('#logo').outerWidth(true)-$('#site_nav').outerWidth(true)-$('form#search_box').outerWidth()-$('#user_nav_toggler').outerWidth(true);return $("form#search_box").css({marginLeft:empty_space});}},open:function(){if(!window.top_bar.active){return $("body.homepage #top_bar").slideDown("slow",function(){return window.top_bar.active=true;});}},close:function(){return $("body.homepage #top_bar").slideUp("normal",function(){return window.top_bar.active=false;});},attemptToOpen:function(){if(!window.top_bar.explicityDisabled)return window.top_bar.open();},disable:function(){return window.top_bar.explicityDisabled=true;},enable:function(){window.top_bar.explicityDisabled=false;return window.top_bar.open();}};});}).call(this);(function(){$(document).ready(function(){return window.user_nav={init:function(){$("#user_nav_toggler").click(function(event){event.stopPropagation();return window.user_nav.toggle();});$("#user_nav").click(function(event){return event.stopPropagation();});return $("html").click(function(){if($("#user_nav").hasClass("active"))return window.user_nav.close();});},updateAppearance:function(){if($("#user_nav_toggler").length>0&&$("#user_nav").length>0){return $("#user_nav").css({left:$("#user_nav_toggler").offset().left+$("#user_nav_toggler").width()-$("#user_nav").width()});}},open:function(){if(window.mobile){$("#user_nav").show().addClass('active');}else{$("#user_nav").slideDown("normal",function(){return $(this).addClass('active');});}
return window.user_nav.updateAppearance();},close:function(){if(window.mobile){return $("#user_nav").hide().removeClass('active');}else{return $("#user_nav").slideUp("normal",function(){return $(this).removeClass('active');});}},toggle:function(){window.user_nav.updateAppearance();if($("#user_nav").hasClass("active")){return window.user_nav.close();}else{return window.user_nav.open();}}};});}).call(this);(function(){jQuery(function($){return window.autocomplete={current_xhr:null,init:function(){if(!window.mobile)return window.autocomplete.addTo('#word_name');},addTo:function(input_id){return $(input_id).autocomplete({delay:100,html:true,source:function(request,response){if(window.autocomplete.current_xhr){window.autocomplete.current_xhr.abort();}
$(input_id).addClass("loading");return window.autocomplete.current_xhr=$.ajax({url:"/c",dataType:"json",data:{s:request.term,count:5},success:function(data){window.autocomplete.current_xhr=null;$(input_id).removeClass("loading");return response($.map(data,function(item){return{label:item,value:item};}));}});},select:function(event,ui){return window.autocomplete.selectResult(input_id,ui.item.value);}}).keypress(function(e){if(e.keyCode===13){window.autocomplete.selectResult(input_id,$(this).val());return false;}});},selectResult:function(input_id,searchstring){$(input_id).addClass("loading");if(searchstring.match(/See all results for /)){window.location="/search/"+searchstring.split("See all results for ")[1];}else{$(input_id).val(searchstring);$(input_id).closest('form').submit();}
return false;}};});}).call(this);(function(){$(document).ready(function(){return window.favorites={init:function(){return $("#favorites a.delete_item").live("click",function(){return log('#favorites a.delete_item -> click');}).live("ajax:error",function(event,xhr,status,error){log('#favorites a.delete_item -> error');return log(xhr.responseText);}).live("ajax:success",function(event,data,status,xhr){var ul;log('#favorites a.delete_item -> success');ul=$(this).closest("ul");log(ul);$(this).closest("li").slideUp().remove();if(ul.find('li').length===0){return ul.closest('div').find('.no_items').fadeIn();}});}};});}).call(this);(function(){$(document).ready(function(){return window.stage={layoutMode:"vertical",activeSection:null,swipeableActions:null,init:function(){window.stage.detectLayoutMode();return $(window).resize(function(){return window.stage.adaptToScale();});},adaptToScale:function(){window.mobile=$(window).width()<config.stage.mobile_threshold;if(window.mobile){$('.no_mobile').hide();}else{$('.no_mobile').show();}
window.user_nav.updateAppearance();window.top_bar.updateAppearance();if($(window).width()<config.stage.slim_threshold){return $('#fdbk_tab').fadeOut();}else{return $('#fdbk_tab').fadeIn();}},detectLayoutMode:function(){window.stage.swipeableActions=config.word_actions.remove("love");if($("#modules_wrapper").hasClass("horizontal")){window.stage.layoutMode="horizontal";window.stage.activeSection="define";return $("body").swipe({swipe:window.stage.swipe,threshold:50,allowPageScroll:"vertical"});}},getTopMargin:function(){return parseInt($("#top_bar").height(),10)+20;},slideToElement:function(e){return $.scrollTo($(e),500,{offset:-window.stage.getTopMargin()});},slideToSection:function(section){window.stage.activeSection=section;if(window.stage.layoutMode==="horizontal"){return $("#modules_wrapper").scrollTo($("#"+section),500,{axis:"x"});}else{return $.scrollTo($("#"+section),500,{offset:-window.stage.getTopMargin()});}},getNextSection:function(){var i;i=window.stage.swipeableActions.indexOf(window.stage.activeSection)+1;if(i+1>window.stage.swipeableActions.length)i=0;return window.stage.swipeableActions[i];},getPreviousSection:function(){var i;i=window.stage.swipeableActions.indexOf(window.stage.activeSection)-1;if(i<0)i=window.stage.swipeableActions.length-1;return window.stage.swipeableActions[i];},swipe:function(event,direction){switch(direction){case"left":return window.word.go(window.stage.getNextSection());case"right":return window.word.go(window.stage.getPreviousSection());}}};});}).call(this);(function(){jQuery(function($){return window.Spy={init:function(){$('a.chorus_download').live('click',function(){return Spy.report("Chorus","download",'');});$('a.chorus_survey').live('click',function(){return Spy.report("Chorus","survey",'');});$('.module').live('click',function(){return Spy.report("WordModule","click",$(this).data('name'));});$('ul.examples a').live('click',function(){Spy.report("ExampleSource","click",$(this).data('source'));return Spy.report("ExampleURL","click",$(this).attr('href'));});$('.module.lists form#new_list').live('submit',function(){Spy.report("List","create",'from_word_page');return Spy.report("ListedWord","createFirst",'from_word_page');});$('form#new_list.standalone').live('submit',function(){return Spy.report("List","create",'from_list_form');});$('a.toggle_listage').live('click',function(){if($(this).hasClass('active')){return Spy.report("ListedWord","delete",'from_word_page');}else{return Spy.report("ListedWord","create",'from_word_page');}});$('#lists form#new_word').live('submit',function(){return Spy.report("ListedWord","create",'from_list_page');});$("form#toggle_favor").live("submit",function(){if($("h1#headword").hasClass('loved')){return Spy.report("Word","unlove",'from_word_page');}else{return Spy.report("Word","love",'from_word_page');}});$("form#toggle_favorite_list").live("submit",function(){if($("h1#headword").hasClass('loved')){return Spy.report("List","unlove",'from_list_page');}else{return Spy.report("List","love",'from_list_page');}});return $('a.play_sound').live('click',function(){return Spy.report("Word","hear",'from_word_page');});},report:function(category,action,label){log("Spy: "+category+", "+action+", "+label);return _gaq.push(['_trackEvent',category,action,label]);}};});}).call(this);$(function(){$('form.formtastic.tabular input, form.formtastic.tabular textarea').bind('focus',function(){$(this).closest('form').find('li').removeClass('active');$(this).closest('fieldset.inputs > ol > li').addClass('active');});$('#flash_messages').hide().slideDown().delay(5000).slideUp();$('form.shy .shy').hide();$('form.shy input,textarea').bind('focus',function(){$(this).closest('form').find('.shy').slideDown();});$("form#new_listed_word").live("ajax:success",function(event,data,status,xhr){$('.words').html(data);});$("form#new_tag").live("ajax:success",function(event,data,status,xhr){$('div.module.related_words ul.relations li.tagged ul').append(data);$('form#new_tag li.string input').val('');});window.stage.adaptToScale();window.autocomplete.init();window.comments.init();window.examples.init();window.favorites.init();window.homepage.init();window.lists.init();window.photos.init();window.related_words.init();window.stage.init();window.top_bar.init();window.user_nav.init();window.users.init();window.word.init();Spy.init();});function handlePronEvent(event){log(event);}